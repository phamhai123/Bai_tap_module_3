"use strict";var __extends;define("pageBehaviors",["require","exports","htmlExtensions","removeFocus"],function(n,t,i,r){var u=function(){function n(){i.removeClass(document.documentElement,"no-js");i.addClass(document.documentElement,"js");i.hasClass(document.body,"c_native")&&window.navigator&&typeof window.navigator.gamepadInputEmulation=="string"&&(window.navigator.gamepadInputEmulation="keyboard");r.setupRemoveFocus()}return n.typeName="PageBehaviors",n}();t.PageBehaviors=u});require(["pageBehaviors","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.PageBehaviors}])});define("removeFocus",["require","exports","htmlExtensions"],function(n,t,i){function e(){return f?!1:(f=!0,i.addEvent(document.body,i.eventTypes.mousedown,s),i.addEvents(document.body,"blur keydown",o),!0)}function o(){i.removeClass(r,u);r.length=0}function s(n){var t=i.getEventTargetOrSrcElement(n);i.addClass(t,u);r.push(t)}var u="x-hidden-focus",f=!1,r=[];t.setupRemoveFocus=e});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("breakpointTracker",["require","exports","publisher","htmlExtensions","utility"],function(n,t,i,r,u){var f=function(n){function t(){var i=this;n.call(this,null);this.onWindowResized=function(){var r=t.getWindowWidth(),n=t.identifyBreakpoint(r);i.breakpoint!==n&&(i.breakpoint=n,i.initiatePublish({breakpoint:n,width:r}))};this.windowWidth=t.getWindowWidth();this.breakpoint=t.identifyBreakpoint(this.windowWidth);r.addDebouncedEvent(window,r.eventTypes.resize,this.onWindowResized)}return __extends(t,n),t.getBreakpointTracker=function(){return document.body.breakpointTracker||(document.body.breakpointTracker=new t),document.body.breakpointTracker},t.prototype.getBreakpoint=function(){return this.breakpoint},t.identifyBreakpoint=function(n){u.isNumber(n)||(n=t.getWindowWidth());for(var i=t.breakpoints.length-1;i>=0;i--)if(n>=t.breakpoints[i])return i},t.getWindowWidth=function(){return window.innerWidth||document.documentElement.clientWidth},t.prototype.publish=function(n,t){if(n.onBreakpointChanged)n.onBreakpointChanged(t)},t.breakpoints=[0,540,768,1084,1400,1779],t}(i.Publisher);t.BreakpointTracker=f});define("componentFactory",["require","exports","htmlExtensions","utility","stringExtensions"],function(n,t,i,r,u){var f=function(){function n(){}return n.create=function(t){for(var i,r=0,u=t;r<u.length;r++){if(i=u[r],!i.c&&!i.component)throw"factoryInput should has either component or c to tell the factory what component to create.Eg.ComponentFactory.create([{ c: Carousel] or ComponentFactory.create([component: Carousel]))";n.createComponent(i.component||i.c,i)}},n.createComponent=function(t,r){if(t){var o=r&&r.eventToBind?r.eventToBind:"",f=r&&r.selector?r.selector:t.selector,s=r&&r.context?r.context:null,u=[],e=function(n,f,e){var a,c,l,o,h;for(a=r.elements?r.elements:f?i.selectElementsT(f,s):[document.body],c=0,l=a;c<l.length;c++)o=l[c],o.mwfInstances||(o.mwfInstances={}),o.mwfInstances[n]?u.push(o.mwfInstances[n]):(h=new t(o,e),(!h.isObserving||h.isObserving())&&(o.mwfInstances[n]=h,u.push(h)))};switch(o){case"DOMContentLoaded":if(n.onDomReadyHappened)n.callBindFunction(t,f,e,r,u);else{n.domReadyFunctions.push(function(){return n.callBindFunction(t,f,e,r,u)});break}break;case"load":default:if(n.onDeferredHappened)n.callBindFunction(t,f,e,r,u);else{n.deferredFunctions.push(function(){return n.callBindFunction(t,f,e,r,u)});break}}}},n.callBindFunction=function(t,i,u,f,e){f===void 0&&(f=null);var o=n.getTypeName(t),s=o||i||"",h=f&&f.params?f.params:{};h.mwfClass=o;r.createPerfMarker(s+"_Begin");u(o,i,h);r.createPerfMarker(s+"_End");f&&f.callback&&f.callback(e)},n.getTypeName=function(t){if(t.typeName)return t.typeName;if(t.name)return t.name;var i=n.typeNameRegEx.exec(t.toString());if(i&&i.length>1)return i[1]},n.enumerateComponents=function(n,t){var i,r,u;if(n&&t){i=n.mwfInstances;for(r in i)if(i.hasOwnProperty(r)&&(u=i[r],u&&!t(r,u)))break}},n.detach=function(n,t){var i=n,r;i&&i.mwfInstances&&!u.isNullOrWhiteSpace(t)&&i.mwfInstances.hasOwnProperty(t)&&(r=i.mwfInstances[t],i.mwfInstances[t]=null,r&&r.detach&&r.detach())},n.typeNameRegEx=/function\s+(\S+)\s*\(/,n.onLoadTimeoutMs=6e3,n.onDeferredHappened=!1,n.deferredFunctions=[],n.onDomReadyHappened=!1,n.domReadyFunctions=[],n}();t.ComponentFactory=f,function(){i.onDeferred(function(){var n,t,r,u;if(f.onDeferredHappened=!0,n=f.deferredFunctions,!n||n.length>0)for(t=0,r=n;t<r.length;t++)u=r[t],typeof u=="function"&&i.SafeBrowserApis.requestAnimationFrame.call(window,u);f.deferredFunctions=null},f.onLoadTimeoutMs);i.documentReady(function(){var n,t,r,u;if(f.onDomReadyHappened=!0,n=f.domReadyFunctions,!n||n.length>0)for(t=0,r=n;t<r.length;t++)u=r[t],typeof u=="function"&&i.SafeBrowserApis.requestAnimationFrame.call(window,u);f.domReadyFunctions=null},f.onLoadTimeoutMs)}()});define("handleImageError",["require","exports","htmlExtensions"],function(n,t,i){function c(n,t,i){t===void 0&&(t=0);var f;switch(t){case 1:f=h;break;case 0:default:f=r}u(n,f,i)}function u(n,t,u){var o,f,e,s;if(t===void 0&&(t=r),u===void 0&&(u=0),n){if(t=t&&t>0?t:r,n.parentElement)for(o=i.selectElements("source",n.parentElement),f=0,e=o;f<e.length;f++)s=e[f],s.setAttribute("srcset","");n.setAttribute("srcset","");n.src=l(u);n.src.length&&(i.css(n,"height",t+"px"),i.css(n,"width",t+"px"))}}function l(n){switch(n){case 1:return f;case 2:return o;case 3:return s;case 0:default:return e}}var f="data:image/svg+xml;charset=utf-8,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 60 60' style='enable-background:new 0 0 60 60%3B' xml:space='preserve'%3E%3Cstyle %3E.st0%7Bfill:%23FFF%3B%7D%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M0 0 h60 v32 H32 v28 H0 V0 z M28 28 V4 H4 v24 H28 z M28 56 V32 H4 v24 H28 z M56 28 V4 H32 v24 H56 z'/%3E%3C/g%3E%3C/svg%3E",e="data:image/svg+xml;charset=utf-8,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 64 64' style='enable-background:new 0 0 64 64%3B' xml:space='preserve'%3E%3Cstyle %3E.st0%7Bfill:%23FFF%3B%7D%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M64,8v48H0V8H64z M4,12v21.2l14-14l20,20l8-8l14,14V12H4z M4,52h41.2L18,24.8l-14,14V52z M60,52v-1.2l-14-14 L40.8,42l10,10H60z M50,24c-0.5,0-1-0.2-1.4-0.6C48.2,23,48,22.5,48,22s0.2-1,0.6-1.4C49,20.2,49.5,20,50,20s1,0.2,1.4,0.6 C51.8,21,52,21.5,52,22s-0.2,1-0.6,1.4C51,23.8,50.5,24,50,24z'/%3E%3C/g%3E%3C/svg%3E",o="data:image/svg+xml;charset=utf-8,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 64 64' style='enable-background:new 0 0 64 64%3B' xml:space='preserve'%3E%3Cstyle %3E.st0%7Bfill:%23FFF%3B%7D%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M41.7,37.9c2.8,1,5.3,2.3,7.6,4.1c2.3,1.8,4.2,3.8,5.7,6c1.6,2.3,2.8,4.7,3.7,7.5c0.8,2.8,1.2,5.5,1.2,8.5h-4 c0-3.4-0.6-6.5-1.8-9.4c-1.2-2.9-2.9-5.4-4.9-7.5s-4.6-3.8-7.5-4.9c-3-1.3-6.1-1.9-9.5-1.9c-2.2,0-4.4,0.3-6.3,0.8 c-2,0.5-4,1.4-5.7,2.4c-1.8,1-3.4,2.3-4.7,3.8c-1.4,1.4-2.7,3.1-3.7,4.7c-1,1.7-1.8,3.7-2.4,5.7S8.5,61.8,8.5,64h-4%09c0-3,0.4-5.8,1.3-8.5c0.9-2.7,2.1-5.2,3.7-7.4c1.6-2.3,3.5-4.3,5.7-6s4.7-3.1,7.5-4.2c-1.6-0.9-3.1-1.9-4.4-3.2%09c-1.3-1.3-2.4-2.6-3.3-4.2c-0.9-1.6-1.6-3.2-2.1-4.8c-0.4-1.7-0.6-3.5-0.6-5.2c0-2.8,0.5-5.3,1.6-7.7c1-2.4,2.5-4.4,4.3-6.3%09c1.8-1.9,3.9-3.2,6.3-4.3c2.4-1,4.9-1.6,7.7-1.6c2.8,0,5.3,0.5,7.7,1.6c2.4,1,4.4,2.5,6.3,4.3s3.2,3.9,4.3,6.3 c1,2.4,1.6,4.9,1.6,7.7c0,1.8-0.2,3.6-0.7,5.2c-0.5,1.7-1.2,3.4-2.1,4.8c-0.9,1.5-2,2.9-3.3,4.2C44.6,36,43.3,37,41.7,37.9z M16.4,20.5c0,2.2,0.4,4.3,1.3,6.1s2,3.6,3.4,5c1.4,1.4,3.1,2.6,5,3.4c2,0.8,4,1.3,6.1,1.3c2.2,0,4.3-0.4,6.1-1.3 c1.9-0.9,3.6-2,5-3.4c1.4-1.4,2.6-3.1,3.4-5s1.3-4,1.3-6.1s-0.4-4.3-1.3-6.1s-2-3.6-3.4-5c-1.4-1.4-3.1-2.6-5-3.4 c-2-0.8-4-1.3-6.1-1.3c-2.2,0-4.3,0.4-6.1,1.3s-3.6,2-5,3.4c-1.4,1.4-2.6,3.1-3.4,5S16.4,18.3,16.4,20.5z'/%3E%3C/g%3E%3C/svg%3E",s="data:image/svg+xml;charset=utf-8,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 64 64' style='enable-background:new 0 0 64 64%3B' xml:space='preserve'%3E%3Cstyle %3E.st0%7Bfill:%23FFF%3B%7D%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M0,10h64v44H0V10z M60,50V14h-4v4h-4v-4H12v4H8v-4H4v36h4v-4h4v4h40v-4h4v4H60z M8,26v-4h4v4H8z M8,34v-4h4v4 H8z M8,42v-4h4v4H8z M52,26v-4h4v4H52z M52,34v-4h4v4H52z M52,42v-4h4v4H52z'/%3E%3C/g%3E%3C/svg%3E",h=24,r=57;t.handleImageError=c;t.handleImageErrorCustomDimensions=u});define("htmlExtensions",["require","exports","stringExtensions"],function(n,t,i){function e(n,t,i,f){var e,o,s;for(f===void 0&&(f=!1),e=0,o=u(n);e<o.length;e++)s=o[e],y(s,i,f,r[t])}function nt(n,t,r,f){var e,s,l,o,h,c;if(f===void 0&&(f=!1),!i.isNullOrWhiteSpace(t))for(e=0,s=u(n);e<s.length;e++)for(l=s[e],o=0,h=t.split(/\s+/);o<h.length;o++)c=h[o],i.isNullOrWhiteSpace(c)||y(l,r,f,c)}function tt(n,t,r,f){var e,s,l,o,h,c;for(f===void 0&&(f=!1),e=0,s=u(n);e<s.length;e++)for(l=s[e],o=0,h=u(t);o<h.length;o++)c=h[o],i.isNullOrWhiteSpace(c)||g(l,r,f,c)}function it(n){n=v(n);n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}function rt(n,t,i,r){r===void 0&&(r=150);var f,u=0,o=function(n){var t=Date.now();clearTimeout(f);!!u&&t<u+r?f=setTimeout(function(){u=t;i(n)},r-(t-u)):(u=t,i(n))};return e(n,t,o),o}function ut(n,t,r,f,e){function p(n){var i,t=0;return function(r){var u=Date.now();clearTimeout(i);!!t&&u<t+e?i=setTimeout(function(){t=u;n(r)},e-(u-t)):(t=u,n(r))}}var o,h,a,s,c,l,v;if(f===void 0&&(f=!1),e===void 0&&(e=150),!i.isNullOrWhiteSpace(t))for(o=0,h=u(n);o<h.length;o++)for(a=h[o],s=0,c=t.split(/\s+/);s<c.length;s++)l=c[s],i.isNullOrWhiteSpace(l)||(v=p(r),y(a,v,f,l))}function ft(n,t,i,r){r===void 0&&(r=150);var u,f=function(n){window.clearTimeout(u);u=setTimeout(function(){i(n)},r)};return e(n,t,f),f}function et(n,t){if(t===void 0&&(t=5e3),document.readyState==="complete"){n.call(null);return}if(!document.attachEvent&&document.readyState==="interactive"){n.call(null);return}var o,i,u,f=function(){clearTimeout(o);i&&c(document,r.DOMContentLoaded,i);u&&c(document,r.onreadystatechange,u);l.requestAnimationFrame.call(window,n)};if(o=setTimeout(function(){f("timedout")},t),document.addEventListener){i=function(){f("domcontentloaded")};e(document,r.DOMContentLoaded,i,!1);return}document.attachEvent&&(u=function(){document.readyState==="complete"&&f("readystatecomplete")},e(document,r.onreadystatechange,u,!1))}function ot(n,t){t===void 0&&(t=5e3);var i,u=setTimeout(function(){clearTimeout(u);c(window,r.load,i);n.call(null)},t);i=function(){clearTimeout(u);l.requestAnimationFrame.call(window,n)};document.readyState==="complete"?(clearTimeout(u),n.call(null)):e(window,r.load,i)}function p(n,t){!n||i.isNullOrWhiteSpace(t)||b(n,t)||(n.classList?n.classList.add(t):n.className=i.trim(n.className+" "+t))}function w(n,t){var r,e,f;if(!!n&&!i.isNullOrWhiteSpace(t))for(r=0,e=u(n);r<e.length;r++)f=e[r],f.className&&(f.className=i.trim((" "+f.className+" ").replace(" "+i.trim(t)+" "," ")))}function st(n,t){var i,r,u;if(t)for(i=0,r=t;i<r.length;i++)u=r[i],w(n,u)}function ht(n,t){var i,r,u;if(t)for(i=0,r=t;i<r.length;i++)u=r[i],p(n,u)}function ct(n,t){var u,f,r;if(n&&t)for(u=0,f=t;u<f.length;u++)r=f[u],i.isNullOrWhiteSpace(r.name)||i.isNullOrWhiteSpace(r.value)||n.setAttribute(r.name,r.value)}function b(n,t){return!n||i.isNullOrWhiteSpace(t)||i.isNullOrWhiteSpace(n.className)?!1:(" "+n.className+" ").indexOf(" "+i.trim(t)+" ")>-1}function lt(n){return n?n.parentElement.removeChild(n):n}function at(n,t){return h(n,t)}function vt(n,t){var i=h(n,t);return!i||!i.length?null:i[0]}function h(n,t){var r,u;if(i.isNullOrWhiteSpace(n))return[];if(r=t||document,/^[\#.]?[\w-]+$/.test(n)){switch(n[0]){case".":return r.getElementsByClassName?o(r.getElementsByClassName(n.slice(1))):o(r.querySelectorAll(n));case"#":return u=r.querySelector(n),u?[u]:[]}return o(r.getElementsByTagName(n))}return o(r.querySelectorAll(n))}function yt(n,t){var i=h(n,t);return!i||!i.length?null:i[0]}function pt(n,t){var o=t||document,u,f,i,r,e;for(u=n.split(","),i=0,r=u;i<r.length;i++)e=r[i],f+=this.selectElements(e,o);return f}function o(n){var i,t;if(!n)return[];for(i=[],t=0;t<n.length;t++)i.push(n[t]);return i}function wt(n){for(n===void 0&&(n=document.documentElement);n!==null;){var t=n.getAttribute("dir");if(!t)n=n.parentElement;else return t==="rtl"?s.right:s.left}return s.left}function a(n){var i,t,r;if(n){i=n.getBoundingClientRect();t={};for(r in i)t[r]=i[r];return typeof t.width=="undefined"&&(t.width=n.offsetWidth),typeof t.height=="undefined"&&(t.height=n.offsetHeight),t}}function bt(n){if(n)return{width:parseFloat(a(n).width)+parseFloat(f(n,"margin-left"))+parseFloat(f(n,"margin-right")),height:parseFloat(a(n).height)+parseFloat(f(n,"margin-top"))+parseFloat(f(n,"margin-bottom"))}}function f(n,t,r){if(!n)return null;if(!r&&r!=="")return r=n.style[t],i.isNullOrWhiteSpace(r)&&(r=getComputedStyle(n),r=r[t]),r;n.style[t]=r}function c(n,t,i,f){var e,o,s;if(n&&t&&i)for(e=0,o=u(n);e<o.length;e++)s=o[e],g(s,i,f,r[t])}function k(n){return Array.isArray?Array.isArray(n):{}.toString.call(n)==="[object Array]"}function u(n){return k(n)?n:[n]}function d(n,t){if(!n||!t)return null;for(var i=t.parentNode;i!=null;){if(i===n)return!0;i=i.parentNode}return!1}function kt(n,t){return!n||!t?null:n===t?!0:d(n,t)}function dt(n){return!n?"":n.textContent||n.innerText||""}function gt(n,t){!n||t===null||(n.textContent?n.textContent=t:n.innerHTML=t)}function ni(n){n&&(n.innerHTML="")}function ti(n){return n=v(n),n.target||n.srcElement}function v(n){return n||window.event}function y(n,t,i,r){i===void 0&&(i=!1);!n||(window.addEventListener?n.addEventListener(r,t,i):n.attachEvent("on"+r,t))}function g(n,t,i,r){i===void 0&&(i=!1);!n||(window.removeEventListener?n.removeEventListener(r,t,i):n.detachEvent("on"+r,t))}function ii(n,t,i){if(i===void 0&&(i={}),!n||!t)return null;var f=typeof t=="string"?t:r[t],u=null;return i.bubbles=typeof i.bubbles=="undefined"?!0:i.bubbles,i.cancelable=typeof i.cancelable=="undefined"?!0:i.cancelable,window.CustomEvent&&typeof CustomEvent=="function"?u=new CustomEvent(f,i):document.createEvent?(u=document.createEvent("CustomEvent"),u.initCustomEvent(f,i.bubbles,i.cancelable,i.detail)):(u=document.createEventObject(),n.fireEvent("on"+f,u)),n.dispatchEvent(u),u}function ri(n){n.stopPropagation?n.stopPropagation():n.returnValue=!1}function ui(n){return n===void 0&&(n=window),n.scrollY||n.pageYOffset||(n.document.compatMode==="CSS1Compat"?n.document.documentElement.scrollTop:n.document.body.scrollTop)}function fi(n){if(!n)return window.document.documentElement;for(var i=n.ownerDocument.documentElement,t=n.offsetParent;t&&f(t,"position")=="static";)t=t.offsetParent;return t||i}function ei(n,t){if(n&&t){var i=t.clientHeight,r=t.scrollHeight;r>i&&(t.scrollTop=Math.min(n.offsetTop-t.firstElementChild.offsetTop,r-i))}}function oi(n){return n&&typeof n.complete!="undefined"&&typeof n.naturalHeight!="undefined"?n&&n.complete&&n.naturalWidth==0&&n.naturalHeight==0:!1}function si(n){var i=n.touches&&n.touches.length?n.touches:[n],t=n.changedTouches&&n.changedTouches[0]||i[0];return{x:t.clientX,y:t.clientY}}function hi(n,t){for(var i=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;n;){if(i.call(n,t))break;n=n.parentElement}return n}function ci(n,t){t===void 0&&(t=!0);!!n&&window.navigator.pointerEnabled&&f(n,"touchAction",t?"pan-y":"pan-x")}var l,s,r;(function(n){n.requestAnimationFrame=window.requestAnimationFrame||function(n){typeof n=="function"&&window.setTimeout(n,16.7)}})(l=t.SafeBrowserApis||(t.SafeBrowserApis={})),function(n){n[n.right=0]="right";n[n.left=1]="left"}(t.Direction||(t.Direction={}));s=t.Direction,function(n){n[n.animationend=0]="animationend";n[n.blur=1]="blur";n[n.change=2]="change";n[n.click=3]="click";n[n.DOMContentLoaded=4]="DOMContentLoaded";n[n.DOMNodeInserted=5]="DOMNodeInserted";n[n.DOMNodeRemoved=6]="DOMNodeRemoved";n[n.ended=7]="ended";n[n.error=8]="error";n[n.focus=9]="focus";n[n.focusin=10]="focusin";n[n.input=11]="input";n[n.load=12]="load";n[n.keydown=13]="keydown";n[n.keypress=14]="keypress";n[n.keyup=15]="keyup";n[n.loadedmetadata=16]="loadedmetadata";n[n.mousedown=17]="mousedown";n[n.mousemove=18]="mousemove";n[n.mouseout=19]="mouseout";n[n.mouseover=20]="mouseover";n[n.mouseup=21]="mouseup";n[n.onreadystatechange=22]="onreadystatechange";n[n.resize=23]="resize";n[n.scroll=24]="scroll";n[n.submit=25]="submit";n[n.timeupdate=26]="timeupdate";n[n.touchcancel=27]="touchcancel";n[n.touchend=28]="touchend";n[n.touchmove=29]="touchmove";n[n.touchstart=30]="touchstart";n[n.wheel=31]="wheel"}(t.eventTypes||(t.eventTypes={}));r=t.eventTypes;t.addEvent=e;t.addEvents=nt;t.removeEvents=tt;t.preventDefault=it;t.addThrottledEvent=rt;t.addThrottledEvents=ut;t.addDebouncedEvent=ft;t.documentReady=et;t.onDeferred=ot;t.addClass=p;t.removeClass=w;t.removeClasses=st;t.addClasses=ht;t.addAttribute=ct;t.hasClass=b;t.removeElement=lt;t.selectElements=at;t.selectFirstElement=vt;t.selectElementsT=h;t.selectFirstElementT=yt;t.selectElementsFromSelectors=pt;t.nodeListToArray=o;t.getDirection=wt;t.getClientRect=a;t.getClientRectWithMargin=bt;t.css=f;t.removeEvent=c;t.isArray=k;t.toArray=u;t.isDescendent=d;t.isDescendentOrSelf=kt;t.getText=dt;t.setText=gt;t.removeInnerHtml=ni;t.getEventTargetOrSrcElement=ti;t.getEvent=v;t.customEvent=ii;t.stopPropagation=ri;t.getScrollY=ui;t.getOffsetParent=fi;t.scrollElementIntoView=ei;t.isImageLoadFailed=oi;t.getCoordinates=si;t.getParent=hi;t.preventDefaultSwipeAction=ci});define("ICollectionItem",["require","exports"],function(){});define("IController",["require","exports"],function(){});define("keycodes",["require","exports"],function(){});define("observableComponent",["require","exports","htmlExtensions"],function(n,t,i){var r=function(){function n(t,i){i===void 0&&(i=null);this.element=t;this.ignoreNextDOMChange=!1;this.observing=!1;n.shouldInitializeAsClass(t,i)&&this.setObserver()}return n.prototype.detach=function(){this.unObserve();this.teardown()},n.prototype.isObserving=function(){return this.observing},n.prototype.unObserve=function(){this.observing=!1;this.modernObserver&&this.modernObserver.disconnect();i.removeEvent(this.element,i.eventTypes.DOMNodeInserted,this.obsoleteNodeInsertedEventHander);i.removeEvent(this.element,i.eventTypes.DOMNodeRemoved,this.obsoleteNodeRemovedEventHandler)},n.prototype.setObserver=function(){this.observing=!0;typeof n.mutationObserver!="undefined"?this.observeModern():"MutationEvent"in window&&this.observeObsolete()},n.prototype.observeModern=function(){var t=this,i=function(n){t.onModernMutations(n)};this.modernObserver=new n.mutationObserver(i);this.modernObserver.observe(this.element,{childList:!0,subtree:!0})},n.prototype.onModernMutations=function(n){var r,u,f,e,i,o,t,s;if(this.ignoreNextDOMChange){this.ignoreNextDOMChange=!1;return}for(r=!1,u=!1,f=0,e=n;f<e.length;f++){for(i=e[f],t=0,o=i.addedNodes.length;t<o;t++)i.addedNodes[t].nodeType===1&&(r=!0,u=!0);for(t=0,s=i.removedNodes.length;t<s;t++)i.removedNodes[t].nodeType===1&&(r=!0,i.removedNodes[t]!==this.element&&(u=!0))}r&&this.teardown();u&&this.update()},n.prototype.observeObsolete=function(){var n=this;this.obsoleteNodeInsertedEventHander=i.addDebouncedEvent(this.element,i.eventTypes.DOMNodeInserted,function(){n.onObsoleteNodeInserted()});this.obsoleteNodeRemovedEventHandler=i.addDebouncedEvent(this.element,i.eventTypes.DOMNodeRemoved,function(t){n.onObsoleteNodeRemoved(t)})},n.prototype.onObsoleteNodeInserted=function(){this.ignoreNextDOMChange||(this.teardown(),this.update())},n.prototype.onObsoleteNodeRemoved=function(n){this.ignoreNextDOMChange||(this.teardown(),i.getEventTargetOrSrcElement(n)!==this.element&&this.update())},n.shouldInitializeAsClass=function(t,i){var r=t?t.getAttribute(n.mwfClassAttribute):null,u=t?t.getAttribute(n.initializeAttribute):null;return u==="false"?!1:!!t&&(!r||!!i&&r===i.mwfClass)},n.mwfClassAttribute="data-mwf-class",n.initializeAttribute="data-js-initialize",n.mutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n}();t.ObservableComponent=r});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("publisher",["require","exports","observableComponent"],function(n,t,i){var r=function(n){function t(t,i){i===void 0&&(i=null);n.call(this,t,i);this.element=t}return __extends(t,n),t.prototype.subscribe=function(n){if(!n)return!1;if(this.subscribers){if(this.subscribers.indexOf(n)!==-1)return!1}else this.subscribers=[];return this.subscribers.push(n),!0},t.prototype.unsubscribe=function(n){if(!n||!this.subscribers||!this.subscribers.length)return!1;var t=this.subscribers.indexOf(n);return t===-1?!1:(this.subscribers.splice(t,1),!0)},t.prototype.hasSubscribers=function(){return!!this.subscribers&&this.subscribers.length>0},t.prototype.initiatePublish=function(n){var t,i,r;if(this.hasSubscribers())for(t=0,i=this.subscribers;t<i.length;t++)r=i[t],this.publish(r,n)},t.prototype.update=function(){},t.prototype.teardown=function(){},t}(i.ObservableComponent);t.Publisher=r});define("stringExtensions",["require","exports"],function(n,t){function r(n){return!n||!i(n)}function i(n){return n?n.trim?n.trim():n.replace(/^\s+|\s+$/g,""):n}function u(n,t,i){return(i===void 0&&(i=!0),!n||!t)?!1:(i&&(n=n.toLocaleLowerCase(),t=t.toLocaleLowerCase()),n.startsWith)?n.startsWith(t):n.indexOf(t)===0}function f(n,t,i){return(i===void 0&&(i=!0),!n||!t)?!1:(i&&(n=n.toLocaleLowerCase(),t=t.toLocaleLowerCase()),n.endsWith)?n.endsWith(t):n.lastIndexOf(t)===n.length-t.length}function e(n,t,i){if(i===void 0&&(i=!0),!n||!t)return 0;var r=0;for(i&&(n=n.toLocaleLowerCase(),t=t.toLocaleLowerCase());n.charCodeAt(r)===t.charCodeAt(r);)r++;return r}function o(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return n.replace(/{(\d+)}/g,function(n,t){if(t>=i.length)return n;var r=i[t];return typeof r!="number"&&!r?"":typeof r=="string"?r:r.toString()})}t.isNullOrWhiteSpace=r;t.trim=i;t.startsWith=u;t.endsWith=f;t.getMatchLength=e;t.format=o});define("swipe",["require","exports","htmlExtensions"],function(n,t,i){var u=function(){function n(n,t,u){var f=this;(this.element=n,this.swipeEventHandlers=t,this.active=!1,this.swipeDistanceMarker=10,this.pointerEvents={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}},this.maximumVerticalDistance=200,this.maximumVerticalRatio=.85,this.minimumHorizontalDistance=30,this.endHandler=function(n){var t,u;f.active&&(f.active=!1,t=i.getCoordinates(n),f.validSwipe(t,f.startCoordinate)&&(u=t.x-f.startCoordinate.x>0?r.Left:r.Right,f.swipeEventHandlers.end&&f.swipeEventHandlers.end(u)))},this.startHandler=function(n){f.startCoordinate=i.getCoordinates(n);f.active=!0;f.totalX=0;f.totalY=0;f.endCoordinate=f.startCoordinate;f.swipeEventHandlers.start&&f.swipeEventHandlers.start(f.startCoordinate,n)},this.cancelHandler=function(n){f.active=!1;f.swipeEventHandlers.cancel&&f.swipeEventHandlers.cancel(n)},this.moveHandler=function(n){if(f.active&&f.startCoordinate){var t=i.getCoordinates(n);if(f.totalX+=Math.abs(t.x-f.endCoordinate.x),f.totalY+=Math.abs(t.y-f.endCoordinate.y),f.endCoordinate=t,!(f.totalX<f.swipeDistanceMarker)||!(f.totalY<f.swipeDistanceMarker)){if(f.totalY>f.totalX){f.active=!1;f.swipeEventHandlers.cancel&&f.swipeEventHandlers.cancel(n);return}i.preventDefault(n);f.swipeEventHandlers.move&&f.swipeEventHandlers.move(t,n)}}},this.element&&t)&&(this.pointerTypes=u||["touch","pointer","mouse"],i.addEvents(this.element,this.getEvents(this.pointerTypes,"start"),this.startHandler),i.addEvents(this.element,this.getEvents(this.pointerTypes,"move"),this.moveHandler),i.addEvents(this.element,this.getEvents(this.pointerTypes,"end"),this.endHandler),i.addEvents(this.element,this.getEvents(this.pointerTypes,"cancel"),this.cancelHandler))}return n.prototype.getEvents=function(n,t){for(var e,r,u=[],i=0,f=n;i<f.length;i++)e=f[i],r=this.pointerEvents[e][t],r&&u.push(r);return u.join(" ")},n.prototype.tearDown=function(){i.removeEvents(this.element,this.getEvents(this.pointerTypes,"start"),this.startHandler);i.removeEvents(this.element,this.getEvents(this.pointerTypes,"move"),this.moveHandler);i.removeEvents(this.element,this.getEvents(this.pointerTypes,"end"),this.endHandler);i.removeEvents(this.element,this.getEvents(this.pointerTypes,"cancel"),this.cancelHandler)},n.prototype.validSwipe=function(n,t){if(!t)return!1;var i=Math.abs(n.y-t.y),r=Math.abs(n.x-t.x);return i<this.maximumVerticalDistance&&r>this.minimumHorizontalDistance&&i/r<this.maximumVerticalRatio},n}(),r;t.Swipe=u,function(n){n[n.Left=0]="Left";n[n.Right=1]="Right"}(t.SwipeDirection||(t.SwipeDirection={}));r=t.SwipeDirection});define("utility",["require","exports","stringExtensions"],function(n,t,i){function r(n){return!isNaN(n)&&typeof n=="number"}function e(){return window.innerWidth&&document.documentElement.clientWidth?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth}function h(){return window.innerHeight&&document.documentElement.clientHeight?Math.min(window.innerHeight,document.documentElement.clientHeight):window.innerHeight||document.documentElement.clientHeight}function c(n){if(n!=null)return{width:n.clientWidth,height:n.clientHeight}}function l(n){var t;if((n=n||window.event,!n)||(t=n.key||n.keyIdentifier,!t))return t;switch(t){case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Esc":return"Escape";default:return t}}function a(n){return n=n||window.event,n==null?null:n.which||n.keyCode||n.charCode}function v(n,t,i,r,u){var o="",f,e;r&&(f=new Date,f.setTime(f.getTime()+r*864e5),o="; expires="+f.toUTCString());e="";u&&(e=";domain="+u);window.document.cookie=n+"="+encodeURIComponent(t)+o+("; path="+i+";")+e}function y(n){var t,i;if(!!n)for(t=0,i=document.cookie.split("; ");t<i.length;t++){var r=i[t],f=r.indexOf("="),u=o(r.substring(0,f));if(u===n)return o(r.substring(u.length+1))}return null}function o(n){return n=decodeURIComponent(n.replace("/+/g"," ")),n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),n}function p(n){var u;if(!!n&&n.length===6){var t=parseInt(n.substring(0,2),16),i=parseInt(n.substring(2,4),16),r=parseInt(n.substring(4,6),16);if(!isNaN(t)&&!isNaN(i)&&!isNaN(r))return u=(t*299+i*587+r*114)/255e3,u>=.5?2:1}return null}function w(n,t,i){return!i||!r(n)||!r(t)||!r(i.left)||!r(i.right)||!r(i.top)||!r(i.bottom)?!1:n>=i.left&&n<=i.right&&t>=i.top&&t<=i.bottom}function b(n){console&&console.warn?console.warn(n):console&&console.error&&console.error(n)}function k(n,t){if(t||!(s("item").toLowerCase().indexOf("perf_marker_global:true")<0)){
/*!/#IFDEF perf_marker_global || log_define_timing */
if(!i.isNullOrWhiteSpace(n)&&window.performance&&window.performance.mark){var r=n.split(" ").join("_");window.performance.mark(r);window.console&&window.console.timeStamp&&window.console.timeStamp(r);
/*!/#ENDIF*/
}}}function d(n){if(i.isNullOrWhiteSpace(n)||!window.performance||!window.performance.mark)return 0;var r=n.split(" ").join("_"),t=window.performance.getEntriesByName(r);return t&&t.length?Math.round(t[t.length-1].startTime):0}function g(n,t){if(!r(n)||n<=0)return"00:00";var i=Math.floor(n/3600),f=n%3600,e=Math.floor(f/60),u="";return u=t?i>0?i+":":"00:":i>0?i+":":"",n=Math.floor(f%60),u+=(e<10?"0":"")+e,u+(":"+(n===0?"00":(n<10?"0":"")+n))}function nt(n){if(!JSON||!JSON.parse)throw new Error("JSON.parse unsupported.");if(!n)throw new Error("Invalid json.");return JSON.parse(n)}function u(){for(var e,t,o,n,f,i,r=[],c=0;c<arguments.length;c++)r[+c]=arguments[c];if(!r||!r.length)return null;if(e=typeof r[0]=="boolean"&&r[0],r.length<2)return e?null:r[0];if(e&&r.length<3)return r[1];for(t=e?r[1]:r[0],o=e?2:1;o<r.length;o++)for(n in r[o])if(r[o].hasOwnProperty(n)){if(f=r[o][n],e){var s=Array.isArray?Array.isArray(f):{}.toString.call(f)==="[object Array]",h=!!t[n]&&(Array.isArray?Array.isArray(t[n]):{}.toString.call(t[n])==="[object Array]"),l=!s&&typeof f=="object",a=!h&&!!t[n]&&typeof t[n]=="object";if(s&&h){for(i=0;i<f.length;i++)s=Array.isArray?Array.isArray(f[i]):{}.toString.call(f[i])==="[object Array]",h=!!t[n][i]&&(Array.isArray?Array.isArray(t[n][i]):{}.toString.call(t[n][i])==="[object Array]"),l=!s&&typeof f[i]=="object",a=!h&&!!t[n][i]&&typeof t[n][i]=="object",t[n][i]=s?u(!0,h?t[n][i]:[],f[i]):l?u(!0,a?t[n][i]:{},f[i]):f[i];continue}else if(s){t[n]=u(!0,[],f);continue}else if(l){t[n]=u(!0,a?t[n]:{},f);continue}}t[n]=f}return t}function tt(n,t,i,r,u){var f=!i||i<0?-1:Number(new Date)+i;t=t||100,function e(){var i=n();if(i&&r)r();else{if(i)return;if(f===-1||Number(new Date)<f)setTimeout(e,t);else if(u)u();else return}}()}function s(n,t){return t===void 0&&(t=!0),f(location.search.toLowerCase(),n,t)}function it(n,t,i){return i===void 0&&(i=!0),f(n,t,i)}function f(n,t,i){var r,f,u;return(i===void 0&&(i=!0),!t||!n)?"":(t=t.replace(/[\[\]]/g,"\\$&"),r="[\\?&]"+t+"=([^&#]*)",i&&(r+="/i"),f=new RegExp(r),u=f.exec(i?location.search.toLowerCase():location.search),u===null?"":decodeURIComponent(u[1].replace(/\+/g," ")))}function rt(n,t){var i,r;if(!t)return n;if(n.indexOf("//")===-1)throw'To avoid unexpected results in URL parsing, url must begin with "http://", "https://", or "//"';return i=document.createElement("a"),i.href=n,i.search=(i.search?i.search+"&":"?")+t,r=i.href,i=null,r}function ut(n,t){if(window.sessionStorage&&n&&t)try{sessionStorage.setItem(n,t)}catch(i){}}function ft(n){if(!window.sessionStorage||!n)return null;try{return sessionStorage.getItem(n)}catch(t){return null}}function et(n,t){if(window.localStorage&&n&&t)try{localStorage.setItem(n,t)}catch(i){}}function ot(n){if(!window.localStorage||!n)return null;try{return localStorage.getItem(n)}catch(t){return null}}t.isNumber=r;t.getWindowWidth=e;t.getWindowHeight=h;t.getDimensions=c;t.getVirtualKey=l;t.getKeyCode=a;t.setCookie=v;t.getCookie=y;t.detectContrast=p;t.pointInRect=w;t.apiDeprecated=b;t.createPerfMarker=k;t.getPerfMarkerValue=d;t.toElapsedTimeString=g;t.parseJson=nt;t.extend=u;t.poll=tt;t.getQSPValue=s;t.getQSPFromUrl=it;t.getQSP=f;t.addQSP=rt;t.saveToSessionStorage=ut;t.getValueFromSessionStorage=ft;t.saveToLocalStorage=et;t.getValueFromLocalStorage=ot;var st;(function(n){function t(){var t;if(window.matchMedia){for(t=0;t<n.allWidths.length;++t)if(!window.matchMedia("(min-width:"+n.allWidths[t]+"px)").matches)return t}else for(t=0;t<n.allWidths.length;++t)if(!(e()>=n.allWidths[t]))return t;return n.allWidths.length}n.allWidths=[320,540,768,1084,1400,1779];n.vpMin=n.allWidths[0];n.vpMax=2048;n.getViewport=t})(st=t.Viewports||(t.Viewports={}))});define("viewportCollision",["require","exports","htmlExtensions"],function(n,t,i){function r(n,t){var r=i.getClientRect(n),u,f,e,o;return(r.left=Math.round(r.left),r.top=Math.round(r.top),r.right=Math.round(r.right),r.bottom=Math.round(r.bottom),r.width!==0&&(u=!1,f={top:!1,bottom:!1,left:!1,right:!1},t||(e=Math.min(window.innerWidth,document.documentElement.clientWidth),o=Math.min(window.innerHeight,document.documentElement.clientHeight),t={left:0,top:0,right:e,bottom:o,width:e,height:o}),r.left<t.left&&(u=!0,f.left=!0),r.top<t.top&&(u=!0,f.top=!0),r.right>t.right&&(u=!0,f.right=!0),r.bottom>t.bottom&&(u=!0,f.bottom=!0),u))?f:!1}t.collidesWith=r});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("actionToggle",["require","exports","publisher","componentFactory","tooltip","htmlExtensions","utility"],function(n,t,i,r,u,f,e){var o=function(n){function t(i){var r=this;n.call(this,i);this.element=i;this.updateActionToggleState=function(n){n!==r.isToggled()&&(n?(f.addClass(r.element,t.initializeToggledClassName),!r.initialGlyph||f.removeClass(r.element,r.initialGlyph),!r.toggledGlyph||f.addClass(r.element,r.toggledGlyph),r.element.getAttribute(t.ariaLabelAttribute)?r.element.setAttribute(t.ariaLabelAttribute,r.localizedToggledLabelValue):f.setText(r.element,r.localizedToggledLabelValue),!r.tooltip||r.tooltip.setContent(r.localizedToggledLabelValue)):(f.removeClass(r.element,t.initializeToggledClassName),!r.toggledGlyph||f.removeClass(r.element,r.toggledGlyph),!r.initialGlyph||f.addClass(r.element,r.initialGlyph),r.element.getAttribute(t.ariaLabelAttribute)?r.element.setAttribute(t.ariaLabelAttribute,r.localizedInitialLabelValue):f.setText(r.element,r.localizedInitialLabelValue),!r.tooltip||r.tooltip.setContent(r.localizedInitialLabelValue)),r.initiatePublish({toggled:n}))};this.onActionToggleChange=function(){r.updateActionToggleState(!r.isToggled())};this.handleKeydownEvent=function(n){switch(e.getKeyCode(n)){case 13:case 32:f.preventDefault(n);r.updateActionToggleState(!r.isToggled());break;case 27:f.preventDefault(n);r.updateActionToggleState(!1)}};this.update()}return __extends(t,n),t.prototype.update=function(){var n=this,i,e;this.element&&(this.initializeLocalization(),i=f.hasClass(this.element,t.initializeToggledClassName),e=this.element.getAttribute(u.Tooltip.dataDescribedByAttribute),!e||r.ComponentFactory.create([{component:u.Tooltip,eventToBind:"DOMContentLoaded",elements:[document.getElementById(e)],callback:function(t){!t&&!t.length||(n.tooltip=t[0],n.tooltip.setContent(i?n.localizedToggledLabelValue:n.localizedInitialLabelValue))}}]),i&&f.removeClass(this.element,t.initializeToggledClassName),this.updateActionToggleState(i),f.addEvent(this.element,f.eventTypes.click,this.onActionToggleChange),f.addEvent(this.element,f.eventTypes.keydown,this.handleKeydownEvent))},t.prototype.teardown=function(){f.removeEvent(this.element,f.eventTypes.click,this.onActionToggleChange);f.removeEvent(this.element,f.eventTypes.keydown,this.handleKeydownEvent)},t.prototype.publish=function(n,t){if(n.onActionToggled)n.onActionToggled(t)},t.prototype.isToggled=function(){return f.hasClass(this.element,t.initializeToggledClassName)},t.prototype.initializeLocalization=function(){var n,i,r;for(this.element.getAttribute(t.ariaLabelAttribute)?this.localizedInitialLabelValue=this.element.getAttribute(t.ariaLabelAttribute):!f.getText(this.element)||(this.localizedInitialLabelValue=f.getText(this.element)),this.localizedToggledLabelValue=this.element.getAttribute(t.localizedToggledLabelAttribute),n=0,i=this.element.className.split(" ");n<i.length;n++)if(r=i[n],r.indexOf("glyph-")>=0){this.initialGlyph=r;break}this.toggledGlyph=this.element.getAttribute(t.toggledGlyphAttribute)},t.selector=".c-action-toggle",t.typeName="ActionToggle",t.ariaLabelAttribute="aria-label",t.initializeToggledClassName="f-toggle",t.toggledGlyphAttribute="data-toggled-glyph",t.localizedToggledLabelAttribute="data-toggled-label",t}(i.Publisher);t.ActionToggle=o});require(["actionToggle","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.ActionToggle}])});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("carousel-base",["require","exports","observableComponent","componentFactory","publisher","swipe","stringExtensions","htmlExtensions","utility"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(t,r){var u=this;(n.call(this,t,r),this.carouselElement=t,this.activeIndex=-1,this.onFlipperClicked=function(n){o.getEventTargetOrSrcElement(n)===u.previousButton?u.previousSlide():u.nextSlide()},this.swipeHandler=function(n){var t=n===f.SwipeDirection.Right?u.direction===o.Direction.left:u.direction!==o.Direction.left;t&&u.isScrollableNext()?u.nextSlide():!t&&u.isScrollablePrevious()&&u.previousSlide()},i.ObservableComponent.shouldInitializeAsClass(t,r))&&(this.direction=o.getDirection(),this.directionValue=o.Direction[this.direction],this.requestAnimationFrame=o.SafeBrowserApis.requestAnimationFrame,o.preventDefaultSwipeAction(this.element),this.requestAnimationFrame.call(window,function(){return u.update()}))}return __extends(t,n),t.prototype.update=function(){var n=this;return!this.carouselElement||!this.hasSlides()?!1:(this.requestAnimationFrame.call(window,function(){return n.setActiveSlide(n.getFirstActiveIndex(),!1)}),this.previousButton=o.selectFirstElement(t.previousButtonSelector,this.carouselElement),this.nextButton=o.selectFirstElement(t.nextButtonSelector,this.carouselElement),!this.previousButton||!this.nextButton||(o.addEvent(this.previousButton,o.eventTypes.click,this.onFlipperClicked),o.addEvent(this.nextButton,o.eventTypes.click,this.onFlipperClicked)),this.swipe=new f.Swipe(this.carouselElement,{end:this.swipeHandler}),!0)},t.prototype.teardown=function(){!this.previousButton||!this.nextButton||(o.removeEvent(this.previousButton,o.eventTypes.click,this.onFlipperClicked),o.removeEvent(this.nextButton,o.eventTypes.click,this.onFlipperClicked));this.swipe&&this.swipe.tearDown();this.activeIndex=-1;this.slides=null;this.previousButton=null;this.nextButton=null},t.prototype.hasSlides=function(){return this.slides=this.getSlides(),!!this.slides&&!!this.slides.length},t.prototype.getCollectionItem=function(n){var t;return!n||!n.firstElementChild||r.ComponentFactory.enumerateComponents(n.firstElementChild,function(n,i){return i.onCollectionItemHidden&&i.onCollectionItemShown&&i.triggerItem&&(t=i),!t}),t},t.prototype.setActiveSlide=function(n,i){return(i===void 0&&(i=!0),!this.slides||!s.isNumber(n)||n<0||n>=this.slides.length||n===this.activeIndex)?!1:(this.activeIndex>=0&&this.activeIndex<this.slides.length&&o.removeClass(this.slides[this.activeIndex],t.activeClass),this.activeIndex=n,o.addClass(this.slides[n],t.activeClass),this.updateTheme(),this.updateFlippers(),!0)},t.prototype.updateTheme=function(){o.removeClasses(this.carouselElement,[t.themeDarkClass,t.themeLightClass]);var n=this.slides[this.activeIndex].getAttribute(t.slideThemeAttribute);e.isNullOrWhiteSpace(n)||o.addClass(this.carouselElement,t.themePrefix+n)},t.prototype.updateFlippers=function(){this.isScrollableNext()?o.addClass(this.carouselElement,t.nextFlipperClass):o.removeClass(this.carouselElement,t.nextFlipperClass);this.isScrollablePrevious()?o.addClass(this.carouselElement,t.previousFlipperClass):o.removeClass(this.carouselElement,t.previousFlipperClass)},t.prototype.publish=function(n,t){n.onSlideRangeChanged(t)},t.prototype.triggerSlide=function(){if(!this.slides||!this.slides.length||!(this.activeIndex>=0))return!1;var n=this.getCollectionItem(this.slides[this.activeIndex]);return n&&n.triggerItem()},t.selector=".c-carousel",t.activeClass="f-active",t.allChildSelectors=t.selector+" > * > ul > li",t.slideThemeAttribute="data-f-theme",t.themePrefix="theme-",t.previousFlipperClass="f-scrollable-previous",t.nextFlipperClass="f-scrollable-next",t.themeLightClass="theme-light",t.themeDarkClass="theme-dark",t.previousButtonSelector=".c-flipper.f-previous, .c-flipper.f-left",t.nextButtonSelector=".c-flipper.f-next, .c-flipper.f-right",t}(u.Publisher);t.CarouselBase=h});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("multi-slide-carousel",["require","exports","carousel-base","componentFactory","sequenceIndicator","actionToggle","htmlExtensions","utility","viewportCollision"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(t,i){var r=this;i===void 0&&(i=null);n.call(this,t,i);this.carouselElement=t;this.isAutoPlayPaused=!0;this.autoPlayTimer=-1;this.hasContentFocus=!1;this.onActionToggled=function(n){!n||(n.toggled?r.startAutoPlay():r.pauseAutoPlay())};this.suspendAutoPlay=function(){r.clearAutoPlayTimers()};this.resumeAutoPlay=function(){r.isAutoPlayPaused||r.setAutoPlayInterval()};this.onContentFocus=function(){r.hasContentFocus=!0;r.suspendAutoPlay()};this.onContentBlur=function(){r.hasContentFocus=!1;r.resumeAutoPlay()};this.onWindowScrolled=function(){if(r.carouselElement){var n=s.collidesWith(r.carouselElement);n?r.suspendAutoPlay():r.resumeAutoPlay()}}}return __extends(t,n),t.prototype.update=function(){var i=this,u;return!this.isObserving()||!n.prototype.update.call(this)?!1:(u=e.selectFirstElement(f.ActionToggle.selector,this.carouselElement),!u||(u.setAttribute("aria-hidden",this.slides.length>1?"false":"true"),r.ComponentFactory.create([{component:f.ActionToggle,elements:[u],callback:function(n){n.length>0&&(i.autoPlayActionToggle=n[0],!i.autoPlayActionToggle||(i.autoPlayActionToggle.subscribe(i),e.addEvent(i.carouselElement,e.eventTypes.mouseover,i.suspendAutoPlay),e.addEvent(i.carouselElement,e.eventTypes.mouseout,i.resumeAutoPlay),i.scrollThrottledEventHandler=e.addThrottledEvent(window,e.eventTypes.scroll,i.onWindowScrolled),i.focusContentElements=e.selectElements(t.focusContentSelector,i.carouselElement),i.focusContentElements&&(i.hasContentFocus=i.focusContentElements.indexOf(document.activeElement)!==-1,e.addEvent(i.focusContentElements,e.eventTypes.focus,i.onContentFocus),e.addEvent(i.focusContentElements,e.eventTypes.blur,i.onContentBlur)),i.autoPlayIntervalDuration=Math.max(t.autoPlayMinimumInterval,parseInt(i.carouselElement.getAttribute(t.autoPlayIntervalAttribute),10)||t.autoPlayDefaultInterval),e.hasClass(i.carouselElement,t.autoPlayClass)&&i.slides.length>1&&i.autoPlayActionToggle.isToggled()&&!i.hasContentFocus&&o.getQSPValue("mwfrun").toLowerCase()!=="formwfvdiff"&&i.startAutoPlay()))},eventToBind:"DOMContentLoaded"}])),this.loadMultiSlideController(),!0)},t.prototype.teardown=function(){n.prototype.teardown.call(this);!this.autoPlayActionToggle||(this.autoPlayActionToggle.unsubscribe(this),e.removeEvent(this.carouselElement,e.eventTypes.mouseover,this.suspendAutoPlay),e.removeEvent(this.carouselElement,e.eventTypes.mouseout,this.resumeAutoPlay),this.scrollThrottledEventHandler&&(e.removeEvent(window,e.eventTypes.scroll,this.scrollThrottledEventHandler),this.scrollThrottledEventHandler=null),this.focusContentElements&&(e.removeEvent(this.focusContentElements,e.eventTypes.focus,this.onContentFocus),e.removeEvent(this.focusContentElements,e.eventTypes.blur,this.onContentBlur)),this.clearAutoPlayTimers(),this.isAutoPlayPaused=!0,this.autoPlayActionToggle=null);this.hasContentFocus=!1;!this.sequenceIndicator||this.sequenceIndicator.unsubscribe(this)},t.prototype.getSlides=function(){return e.selectElements(i.CarouselBase.allChildSelectors,this.carouselElement)},t.prototype.getFirstActiveIndex=function(){if(!this.slides)return 0;for(var n=0;n<this.slides.length;n++)if(e.hasClass(this.slides[n],i.CarouselBase.activeClass))return n;return 0},t.prototype.isScrollablePrevious=function(){return!!this.slides&&this.slides.length>1},t.prototype.isScrollableNext=function(){return!!this.slides&&this.slides.length>1},t.prototype.previousSlide=function(){this.setActiveSlide(this.activeIndex-1)},t.prototype.nextSlide=function(){this.setActiveSlide(this.activeIndex+1)},t.prototype.setActiveSlide=function(r,u){var f,h,c,o,s;if(u===void 0&&(u=!0),!this.slides)return!1;(f=this.activeIndex,h=r,r<0?r=this.slides.length-1:r>=this.slides.length&&(r=0),n.prototype.setActiveSlide.call(this,r,u))&&(f!==-1&&(e.removeClasses(this.slides[f],[i.CarouselBase.activeClass,t.animateNextClass,t.animatePreviousClass]),c=f<h?t.animateNextClass:t.animatePreviousClass,e.addClass(this.slides[this.activeIndex],c)),this.resumeAutoPlay(),this.sequenceIndicator&&this.sequenceIndicator.setControllerIndex(r,!1),o=f===-1?null:n.prototype.getCollectionItem.call(this,this.slides[f]),s=n.prototype.getCollectionItem.call(this,this.slides[this.activeIndex]),o&&o.onCollectionItemHidden(),s&&s.onCollectionItemShown(),n.prototype.initiatePublish.call(this,{fullyVisibleItemRange:[r,r],partiallyVisibleItemRange:[r,r],userInitiated:u}))},t.prototype.startAutoPlay=function(){this.setAutoPlayInterval();this.isAutoPlayPaused=!1},t.prototype.pauseAutoPlay=function(){this.isAutoPlayPaused=!0;this.clearAutoPlayTimers()},t.prototype.setAutoPlayInterval=function(){var n=this;this.clearAutoPlayTimers();this.autoPlayTimer=setTimeout(function(){n.setActiveSlide(n.activeIndex+1,!1)},this.autoPlayIntervalDuration)},t.prototype.clearAutoPlayTimers=function(){this.autoPlayTimer!==-1&&(clearTimeout(this.autoPlayTimer),this.autoPlayTimer=-1)},t.prototype.loadMultiSlideController=function(){var n=this,t=e.selectFirstElement(u.SequenceIndicator.selector,this.carouselElement);!t||r.ComponentFactory.create([{component:u.SequenceIndicator,elements:[t],callback:function(t){t&&t.length&&(n.sequenceIndicator=t[0],!n.sequenceIndicator||(n.slides.length>1?n.sequenceIndicator.show():n.sequenceIndicator.hide(),n.sequenceIndicator.subscribe(n),n.sequenceIndicator.setControllerIndex(n.activeIndex,!1)))},eventToBind:"DOMContentLoaded"}])},t.prototype.onControllerIndexChanged=function(n){!n||this.setActiveSlide(n.currentIndex)},t.selector=".c-carousel[class*=f-multi-slide]",t.typeName="MultiSlideCarousel",t.animateNextClass="f-animate-next",t.animatePreviousClass="f-animate-previous",t.focusContentSelector=".c-call-to-action",t.autoPlayClass="f-auto-play",t.autoPlayIntervalAttribute="data-js-interval",t.autoPlayDefaultInterval=6e3,t.autoPlayMinimumInterval=5e3,t}(i.CarouselBase);t.MultiSlideCarousel=h});require(["multi-slide-carousel","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.MultiSlideCarousel}])});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("single-slide-carousel",["require","exports","carousel-base","htmlExtensions","utility"],function(n,t,i,r,u){var f=function(n){function t(t,i){var u=this;i===void 0&&(i=null);n.call(this,t,i);this.carouselElement=t;this.onItemFocus=function(n){var t=r.getEventTargetOrSrcElement(n);if(t){while(t.tagName!=="LI")if(!t.parentElement||t.parentElement===t)break;else t=t.parentElement;t.tagName==="LI"&&u.scrollItemIntoView(t)}};this.onResized=function(){u.onCarouselResized()}}return __extends(t,n),t.prototype.update=function(){if(!n.prototype.update.call(this))return!1;this.resizeThrottledEventHandler=r.addThrottledEvent(window,r.eventTypes.resize,this.onResized);var i=r.hasClass(this.slides[0],"f-gallery")?t.focusGalleryItemSelector:t.focusItemSelector;return this.focusElements=r.selectElements(i,this.carouselElement),r.addEvent(this.focusElements,r.eventTypes.focus,this.onItemFocus),!0},t.prototype.teardown=function(){n.prototype.teardown.call(this);r.removeEvent(window,r.eventTypes.resize,this.resizeThrottledEventHandler);r.removeEvent(this.focusElements,r.eventTypes.focus,this.onItemFocus)},t.prototype.getSlides=function(){var n=r.selectElements(t.singleSlideSelector,this.carouselElement);return n&&n.length&&r.selectFirstElement("li",n[0])?(this.singleSlideWidth=u.getDimensions(n[0]).width,n):null},t.prototype.getFirstActiveIndex=function(){return 0},t.prototype.isScrollablePrevious=function(){var n=parseInt(r.css(this.slides[this.activeIndex],this.directionValue),10);return!isNaN(n)&&n!==0},t.prototype.isScrollableNext=function(){var n=parseInt(r.css(this.slides[this.activeIndex],this.directionValue),10),t=u.getDimensions(this.carouselElement).width,i=this.getCurrentSlideSize();return(u.isNumber(n)||(n=0),t+Math.abs(n)+i.gutter>=this.singleSlideWidth)?!1:!0},t.prototype.previousSlide=function(){this.changeSingleSlide(!1)},t.prototype.nextSlide=function(){this.changeSingleSlide(!0)},t.prototype.changeSingleSlide=function(t){var l=this.slides[this.activeIndex],e=parseInt(r.css(l,this.directionValue),10),i=this.getCurrentSlideSize(),o=u.getDimensions(this.carouselElement).width,f=Math.floor(o/(i.width+i.gutter)),s,a=t?-1:1,v=t?i.gutter:0,h,c;u.isNumber(e)||(e=0);f===0&&(f=1);f=o%(i.width+i.gutter)==0?f-1:f;f=Math.max(f,1);s=f*(i.width+i.gutter);h=t?this.singleSlideWidth-o+e:Math.abs(e);c=s<=h?s*a+e:h*a+e+v;r.css(l,this.directionValue,c+"px");n.prototype.updateFlippers.call(this);this.fireSingleSlideChangedNotification(c,o,i)},t.prototype.fireSingleSlideChangedNotification=function(t,u,f){for(var h,c,v=r.selectElements(i.CarouselBase.allChildSelectors,this.carouselElement),y=f.width,p=f.width+f.gutter,l=-1,o=-1,s=-1,a=-1,e=0;e<v.length;e++)if((h=e*p+t,c=h+y,!(c<0))&&(h<0&&c>0&&(l=e),s===-1&&h>=0&&(s=e,l===-1&&(l=s)),s!==-1&&c<=u&&(a=e),a!==-1&&o===-1&&h<u&&c>u)){o=e;break}o===-1&&(o=a);n.prototype.initiatePublish.call(this,{fullyVisibleItemRange:[s,a],partiallyVisibleItemRange:[l,o],userInitiated:!0})},t.prototype.getCurrentSlideSize=function(){var n=r.selectFirstElement(i.CarouselBase.allChildSelectors,this.carouselElement),t;return!n?{width:0,gutter:0}:(t=this.direction===r.Direction.left?parseInt(r.css(n,"marginRight"),10):parseInt(r.css(n,"marginLeft"),10),{width:n.offsetWidth,gutter:isNaN(t)?0:t})},t.prototype.onCarouselResized=function(){var i=this.slides[0],t=parseInt(r.css(i,this.directionValue),10),f=u.getDimensions(this.carouselElement).width;this.singleSlideWidth=u.getDimensions(this.slides[0]).width;!isNaN(t)&&t<0&&this.singleSlideWidth+t<f&&r.css(i,this.directionValue,Math.min(0,f-this.singleSlideWidth)+"px");n.prototype.updateFlippers.call(this)},t.prototype.scrollItemIntoView=function(t){var l=this,o=u.getDimensions(this.carouselElement).width,e=this.slides[0],i=t.offsetLeft,f=this.getCurrentSlideSize(),s=!1,h,c;this.direction===r.Direction.left?(h=parseInt(r.css(e,"left"),10)||0,h<0&&-h>i?(i=-i+1,s=!0):h+i>o-f.width&&(i=o-f.width-i-1,s=!0)):(c=u.getDimensions(e).width,i+f.width+f.gutter+e.offsetLeft>o?(i=-(c-i-f.width-f.gutter)+1,s=!0):i+e.offsetLeft<0&&(i=o-(c-i-f.gutter)-1,s=!0));s&&(r.css(e,this.directionValue,i+"px"),n.prototype.updateFlippers.call(this),setTimeout(function(){e.parentElement.scrollLeft=0;l.fireSingleSlideChangedNotification(i,o,f)},0))},t.selector=".c-carousel[class*=f-single-slide]",t.typeName="SingleSlideCarousel",t.singleSlideSelector=i.CarouselBase.selector+" > * > ul",t.focusItemSelector=i.CarouselBase.selector+" > * > ul > li > section a",t.focusGalleryItemSelector=i.CarouselBase.selector+" > * > ul > li a",t}(i.CarouselBase);t.SingleSlideCarousel=f});require(["single-slide-carousel","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.SingleSlideCarousel}])});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("dialog",["require","exports","publisher","htmlExtensions","utility"],function(n,t,i,r,u){var f=function(n){function t(i){var f=this;n.call(this,i);this.shouldCloseOnEscape=!1;this.isFlowDialog=!1;this.isLightboxDialog=!1;this.handleTriggerClick=function(n){f.activeButton=r.getEventTargetOrSrcElement(n);f.show()};this.show=function(){var o=r.selectElements(t.pageContentContainerSelector),n,u,i,e;for(f.pageContentContainers=[],f.element.setAttribute(t.ariaHidden,"false"),f.dialogWrapper.tabIndex=0,f.firstInput.focus(),f.onResized(),f.bodyOverflowX=r.css(document.body,"overflow-x"),f.bodyOverflowY=r.css(document.body,"overflow-y"),r.css(document.body,"overflow-x","hidden"),r.css(document.body,"overflow-y","hidden"),f.container.setAttribute(t.ariaHidden,"true"),f.checkOverflow(),n=0,u=o;n<u.length;n++)i=u[n],e=!!(i.getAttribute(t.ariaHidden)==="true"),f.pageContentContainers.push({element:i,hidden:e}),e||i.setAttribute(t.ariaHidden,"true");f.dialogWrapper.scrollTop=0;f.initiatePublish({notification:1})};this.hide=function(){var n,i,u;for(f.element.setAttribute(t.ariaHidden,"true"),r.css(f.dialogWrapper,"height","auto"),r.css(document.body,"overflow-x",f.bodyOverflowX),r.css(document.body,"overflow-y",f.bodyOverflowY),f.container.setAttribute(t.ariaHidden,"false"),f.dialogWrapper.setAttribute("tabindex","-1"),n=0,i=f.pageContentContainers;n<i.length;n++)u=i[n],u.hidden||u.element.removeAttribute(t.ariaHidden);f.activeButton&&f.activeButton.focus();f.activeButton=null;f.pageContentContainers=[];f.initiatePublish({notification:2})};this.triggerClickPublish=function(n){f.initiatePublish({notification:0,button:r.getEventTargetOrSrcElement(n)})};this.onKeydown=function(n){var e=u.getKeyCode(n),t,i;switch(e){case 13:case 32:f.closeButtons.indexOf(r.getEventTargetOrSrcElement(n))!==-1?(r.preventDefault(n),f.hide()):f.customButtons.indexOf(r.getEventTargetOrSrcElement(n))!==-1&&f.initiatePublish({notification:0,button:r.getEventTargetOrSrcElement(n)});break;case 27:r.preventDefault(n);f.shouldCloseOnEscape&&f.hide();break;case 9:t=r.getEventTargetOrSrcElement(n);i=f.getLastFocusableInput();t!==i||n.shiftKey?t===f.firstInput&&n.shiftKey&&(r.preventDefault(n),i.focus()):(r.preventDefault(n),f.firstInput.focus())}};this.onResized=function(){f.checkOverflow();f.handleResponsive()};this.checkOverflow=function(){var n=r.getClientRect(f.dialogWrapper);n.height<f.dialogWrapper.scrollHeight?f.isScroll||r.css(f.dialogWrapper,"overflow-y","auto"):r.css(f.dialogWrapper,"overflow-y","hidden")};this.handleResponsive=function(){if(f.element.getAttribute(t.ariaHidden)==="false"){var n=r.getClientRect(f.dialogWrapper);f.isFlowDialog&&!f.isScroll?n.height<f.dialogWrapper.scrollHeight?(r.css(f.dialogWrapper,"max-height",t.heightCalculationString),r.css(f.dialogWrapper,"height","100%")):r.css(f.dialogWrapper,"max-height","100%"):f.isScroll&&(n.height+t.heightCalculationValue>window.innerHeight&&r.css(f.dialogInnerContent,"height")!=="inherit"?(r.css(f.dialogWrapper,"height",t.heightCalculationString),r.css(f.dialogInnerContent,"height","inherit")):r.css(f.dialogInnerContent,"height")!=="auto"&&(r.css(f.dialogWrapper,"height","auto"),n=r.getClientRect(f.dialogWrapper),n.height+t.heightCalculationValue<window.innerHeight?(r.css(f.dialogInnerContent,"height","auto"),f.element.setAttribute(t.ariaHidden,"true"),f.element.setAttribute(t.ariaHidden,"false"),f.checkOverflow()):r.css(f.dialogWrapper,"height",t.heightCalculationString)))}};this.appendDialog=function(){f.ignoreNextDOMChange=!0;f.element&&f.element.parentElement!==document.body&&document.body.appendChild(f.element)};this.getLastFocusableInput=function(){for(var n=f.dialogInputs.length-1;n>=0;n--)if(!f.dialogInputs[n].hidden&&f.dialogInputs[n].getAttribute("disabled")!=="disabled")return f.dialogInputs[n];return f.dialogWrapper};this.update()}return __extends(t,n),t.prototype.update=function(){var n,i;if(this.element&&this.element.id&&(this.dialogId=this.element.id,this.dialogWrapper=r.selectFirstElement("div[role=dialog]",this.element),this.dialogInnerContent=r.selectFirstElement('[role="document"]',this.element),this.openButtons=r.selectElements("[data-js-dialog-show="+this.dialogId+"]"),this.closeButtons=r.selectElements(t.closeSelector,this.element),this.dialogInputs=r.selectElements(t.dialogInputSelectors,this.element),this.dialogInputs.splice(0,0,this.dialogWrapper),this.customButtons=r.selectElements(t.customButtonSelector,this.element),this.appendDialog(),this.container=r.selectFirstElement('[data-grid*="container"]'),this.overlay=r.selectFirstElement('[role="presentation"]',this.element),this.isScroll=r.selectFirstElement(t.scrollSelector,this.element),r.hasClass(this.element,"f-flow")&&(this.isFlowDialog=!0),r.hasClass(this.element,"f-lightbox")&&(this.isLightboxDialog=!0),this.dialogWrapper&&this.dialogInputs&&this.dialogInputs.length&&this.container&&this.overlay)){if(this.isLightboxDialog)this.closeButtons.indexOf(this.overlay)===-1&&this.closeButtons.push(this.overlay),this.shouldCloseOnEscape=!0;else if(this.isFlowDialog)for(n=0;n<this.closeButtons.length;n++)if(i=this.closeButtons[n],r.hasClass(i,"c-glyph")&&r.hasClass(i,"glyph-cancel")){this.closeButtons.push(this.overlay);this.shouldCloseOnEscape=!0;break}this.firstInput=this.dialogInputs[0];r.addEvent(this.openButtons,r.eventTypes.click,this.handleTriggerClick);r.addEvent(this.closeButtons,r.eventTypes.click,this.hide);r.addEvent(this.customButtons,r.eventTypes.click,this.triggerClickPublish);r.addEvent(this.element,r.eventTypes.keydown,this.onKeydown);this.resizeThrottledEventHandler=r.addThrottledEvent(window,r.eventTypes.resize,this.onResized);this.element.getAttribute(t.ariaHidden)==="false"&&this.onResized()}},t.prototype.teardown=function(){r.removeEvent(this.openButtons,r.eventTypes.click,this.handleTriggerClick);r.removeEvent(this.closeButtons,r.eventTypes.click,this.hide);r.removeEvent(this.customButtons,r.eventTypes.click,this.triggerClickPublish);r.removeEvent(this.element,r.eventTypes.keydown,this.onKeydown);r.removeEvent(window,r.eventTypes.resize,this.resizeThrottledEventHandler)},t.prototype.publish=function(n,t){switch(t.notification){case 0:if(n&&n.onButtonClicked)n.onButtonClicked(t);break;case 1:n&&n.onShown&&n.onShown();break;case 2:n&&n.onHidden&&n.onHidden()}},t.selector=".c-dialog",t.typeName="Dialog",t.dialogInputSelectors="select, input, textarea, button, a, .c-glyph[data-js-dialog-hide]",t.closeSelector="[data-js-dialog-hide]",t.customButtonSelector='button[type="button"]',t.ariaHidden="aria-hidden",t.scrollSelector=".f-dialog-scroll",t.heightCalculationValue=24,t.heightCalculationString="calc(100% - "+t.heightCalculationValue.toString()+"px)",t.pageContentContainerSelector='[data-js-controlledby="dialog"]',t}(i.Publisher);t.Dialog=f});require(["dialog","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.Dialog}])});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("flyout",["require","exports","observableComponent","htmlExtensions","viewportCollision","utility"],function(n,t,i,r,u,f){var e=8,o=function(n){function t(i){var o=this;(n.call(this,i),this.element=i,this.toggleFlyout=function(){o.shown?o.hide(!0):o.show(!0)},this.handleKeydownWhenFlyoutIsOpen=function(n){var t=f.getKeyCode(n);if(o.shown)switch(t){case 27:o.hide(!0)}},this.handleClickWhenFlyoutIsOpen=function(n){var t=n.target||n.srcElement;o.performActionsWhenFlyoutIsOpen(t)},this.performActionsWhenFlyoutIsOpen=function(n){var t=n.parentNode;o.element.contains(n)===!1&&n!==o.openButton&&t!==o.openButton&&o.hide(!0)},this.hide=function(n){n===void 0&&(n=!1);o.shown=!1;o.element.setAttribute(t.AriaHidden,"true");o.dismissalMode===0&&r.removeEvent(o.bodyElement,r.eventTypes.click,o.handleClickWhenFlyoutIsOpen);n&&o.openButton.focus()},this.show=function(n){n===void 0&&(n=!1);o.shown=!0;o.element.setAttribute(t.AriaHidden,"false");o.offsetParent=r.getOffsetParent(o.element);o.placement===3?o.placeRight():o.placement===1?o.placeTop():o.placement===2?o.placeLeft():o.placement===0&&o.placeBottom();u.collidesWith(o.element)!==!1&&(o.placeLeft(),u.collidesWith(o.element)!==!1&&(o.placeRight(),u.collidesWith(o.element)!==!1&&(o.placeBottom(),u.collidesWith(o.element)!==!1&&(o.placeTop(),u.collidesWith(o.element)!==!1&&(o.placeBottomFinal(),u.collidesWith(o.element)!==!1&&o.placeTopFinal())))));o.dismissalMode===0&&r.addEvent(o.bodyElement,r.eventTypes.click,o.handleClickWhenFlyoutIsOpen);n&&o.element.focus()},this.placeTopFinal=function(){var n=r.getClientRect(o.offsetParent),i=r.getClientRect(o.element),t=r.getClientRect(o.openButton),u=t.left-n.left,f=t.top-n.top-i.height-e;r.css(o.element,"left",u+"px");r.css(o.element,"top",f+"px")},this.placeBottomFinal=function(){var t=r.getClientRect(o.offsetParent),n=r.getClientRect(o.openButton),i=n.left-t.left,u=n.top-t.top+n.height+e;r.css(o.element,"left",i+"px");r.css(o.element,"top",u+"px")},this.placeBottom=function(){var t=r.getClientRect(o.offsetParent),i=r.getClientRect(o.element),n=r.getClientRect(o.openButton),u=function(){var u=o.calculateHorizontalCenter(t,n,i),f=n.top-t.top+n.height+e;r.css(o.element,"left",u+"px");r.css(o.element,"top",f+"px");o.element.setAttribute("data-js-flyout-placement","bottom")};u();i=r.getClientRect(o.element);u()},this.placeLeft=function(){var t=r.getClientRect(o.offsetParent),n=r.getClientRect(o.element),i=r.getClientRect(o.openButton),u=function(){var u=i.left-t.left-n.width-e,f=o.calculateVerticalCenter(t,i,n);r.css(o.element,"left",u+"px");r.css(o.element,"top",f+"px");o.element.setAttribute("data-js-flyout-placement","left")};u();n=r.getClientRect(o.element);u()},this.placeTop=function(){var t=r.getClientRect(o.offsetParent),n=r.getClientRect(o.element),i=r.getClientRect(o.openButton),u=function(){var u=o.calculateHorizontalCenter(t,i,n),f=i.top-t.top-n.height-e;r.css(o.element,"left",u+"px");r.css(o.element,"top",f+"px");o.element.setAttribute("data-js-flyout-placement","top")};u();n=r.getClientRect(o.element);u()},this.placeRight=function(){var t=r.getClientRect(o.offsetParent),i=r.getClientRect(o.element),n=r.getClientRect(o.openButton),u=function(){var u=n.left-t.left+n.width+e,f=o.calculateVerticalCenter(t,n,i);r.css(o.element,"left",u+"px");r.css(o.element,"top",f+"px");o.element.setAttribute("data-js-flyout-placement","right")};u();i=r.getClientRect(o.element);u()},i)&&(this.bodyElement=r.selectFirstElement("body"),this.update())}return __extends(t,n),t.prototype.update=function(){var i=this,u,f,n,t,e;if((this.flyoutId=this.element.getAttribute("id"),this.flyoutId)&&(this.openButton=r.selectFirstElement('[aria-describedby="'+this.flyoutId+'"]'),this.openButton||(this.openButton=r.selectFirstElement('[data-js-flyout="'+this.flyoutId+'"]'),this.openButton))){this.shown=!1;u=this.element.getAttribute("data-js-flyout-dismissible");this.dismissalMode=u==="false"?1:0;f=this.element.getAttribute("data-js-flyout-placement");switch(f){case"bottom":this.placement=0;break;case"top":this.placement=1;break;case"left":this.placement=2;break;default:this.placement=3}if(r.addEvent(this.openButton,r.eventTypes.click,this.toggleFlyout),r.addEvent(window,r.eventTypes.keydown,this.handleKeydownWhenFlyoutIsOpen),this.resizeThrottledEventHandler=r.addThrottledEvent(window,r.eventTypes.resize,function(){i.hide()}),this.dismissalMode===1&&(this.flyoutButtons=r.selectElementsT("button",this.element),this.flyoutButtons.length>0))for(n=0,t=this.flyoutButtons;n<t.length;n++)e=t[n],r.addEvent(e,r.eventTypes.click,function(){i.hide(!0)})}},t.prototype.teardown=function(){var u=this,n,t,i;if(r.removeEvent(this.openButton,r.eventTypes.click,this.toggleFlyout),r.removeEvent(window,r.eventTypes.keydown,this.handleKeydownWhenFlyoutIsOpen),r.removeEvent(window,r.eventTypes.resize,this.resizeThrottledEventHandler),this.dismissalMode===1&&this.flyoutButtons.length>0)for(n=0,t=this.flyoutButtons;n<t.length;n++)i=t[n],r.removeEvent(i,r.eventTypes.click,function(){u.hide()})},t.prototype.calculateHorizontalCenter=function(n,t,i){return t.left-n.left+t.width/2-i.width/2},t.prototype.calculateVerticalCenter=function(n,t,i){return t.top-n.top+t.height/2-i.height/2},t.selector=".c-flyout",t.typeName="Flyout",t.AriaHidden="aria-hidden",t}(i.ObservableComponent);t.Flyout=o});require(["flyout","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.Flyout}])});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("sequenceIndicator",["require","exports","observableComponent","publisher","htmlExtensions","utility"],function(n,t,i,r,u,f){var e=function(n){function t(r,e){var o=this;e===void 0&&(e=null);n.call(this,r,e);this.sequenceIndicatorElement=r;this.selectedAttribute=t.ariaSelected;this.setActiveIndex=function(n){return f.apiDeprecated("SequenceIndicator.setActiveIndex() is deprecated, please use SequenceIndicator.setControllerIndex() instead."),o.setControllerIndex(n)};this.setControllerIndex=function(n,t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!1),n<0||n>o.items.length-1||n===o.activeIndex)return!1;var f=o.activeIndex,r=o.items[o.activeIndex],u=o.items[n],e=document.activeElement===r;return o.deselectItem(r),o.selectItem(u,i),o.activeIndex=n,(t||e)&&u.focus(),o.initiatePublish({previousIindex:f,currentIndex:n,index:n}),!0};this.handleClickEvent=function(n){var t,i;u.preventDefault(n);t=u.getEventTargetOrSrcElement(n);t&&(i=t.getAttribute("role"),!i&&t.parentElement&&(t=t.parentElement.getAttribute("role")==="tab"?t.parentElement:null),o.setControllerIndex(o.items.indexOf(t),!1,!0))};this.onKeydown=function(n){switch(f.getKeyCode(n)){case 39:case 206:case 213:u.stopPropagation(n);o.next();break;case 37:case 205:case 214:u.stopPropagation(n);o.previous();break;default:switch(f.getVirtualKey(n)){case"ArrowRight":u.stopPropagation(n);o.next();break;case"ArrowLeft":u.stopPropagation(n);o.previous()}}};i.ObservableComponent.shouldInitializeAsClass(r,e)&&this.update()}return __extends(t,n),t.prototype.update=function(){var f,i,r,n;if(!this.sequenceIndicatorElement||(this.sequenceIndicatorElement.getAttribute("role")==="radiogroup"&&(this.selectedAttribute=t.ariaChecked),this.isInteractive=!u.hasClass(this.sequenceIndicatorElement,"f-noninteractive"),this.items=u.selectElements(this.constructor.itemSelector,this.sequenceIndicatorElement),!this.items.length))return!1;for(i=0,r=this.items;i<r.length;i++)n=r[i],n.getAttribute(this.selectedAttribute)===t.selectedValue&&(f=this.items.indexOf(n)),this.deselectItem(n),this.isInteractive||(n.setAttribute("tabIndex","-1"),n.setAttribute("disabled",""));return this.setControllerIndex(f||0),this.isInteractive&&(u.addEvent(this.sequenceIndicatorElement,u.eventTypes.click,this.handleClickEvent),u.addEvent(this.sequenceIndicatorElement,u.eventTypes.keydown,this.onKeydown,!0)),!0},t.prototype.teardown=function(){this.isInteractive&&(u.removeEvent(this.sequenceIndicatorElement,u.eventTypes.click,this.handleClickEvent),u.removeEvent(this.sequenceIndicatorElement,u.eventTypes.keydown,this.onKeydown))},t.prototype.publish=function(n,t){var i=n,r=n;if(i.onIndexChanged)i.onIndexChanged(t);if(r.onControllerIndexChanged)r.onControllerIndexChanged(t)},t.prototype.selectItem=function(n,i){i===void 0&&(i=!1);!n||(n.setAttribute(this.selectedAttribute,t.selectedValue),this.isInteractive&&n.setAttribute("tabindex","0"),u.addClass(n,t.activeItemClass),i&&n.getAttribute("role")==="tab"&&u.addClass(n,"x-hidden-focus"))},t.prototype.deselectItem=function(n){!n||(n.setAttribute(this.selectedAttribute,t.deselectedValue),this.isInteractive&&n.setAttribute("tabindex","-1"),u.removeClass(n,t.activeItemClass),n.getAttribute("role")==="tab"&&u.removeClass(n,"x-hidden-focus"))},t.prototype.show=function(){this.sequenceIndicatorElement&&this.sequenceIndicatorElement.setAttribute("aria-hidden","false")},t.prototype.hide=function(){this.sequenceIndicatorElement&&this.sequenceIndicatorElement.setAttribute("aria-hidden","true")},t.prototype.next=function(){var n;n=this.activeIndex===this.items.length-1?0:this.activeIndex+1;this.setControllerIndex(n)},t.prototype.previous=function(){var n;n=this.activeIndex===0?this.items.length-1:this.activeIndex-1;this.setControllerIndex(n)},t.selector=".c-sequence-indicator",t.typeName="SequenceIndicator",t.itemSelector="button",t.selectedValue="true",t.deselectedValue="false",t.ariaSelected="aria-selected",t.ariaChecked="aria-checked",t.activeItemClass="f-active",t}(r.Publisher);t.SequenceIndicator=e});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("tooltip",["require","exports","observableComponent","htmlExtensions","utility"],function(n,t,i,r,u){var f=function(n){function t(t){var i=this;n.call(this,t);this.isVisible=!1;this.timer=0;this.exposeToScreenReaders=!0;this.onFocus=function(n){n=r.getEvent(n);n&&n.type!=="mouseover"&&i.actOnFocus()};this.handleKeydownWhenFocused=function(n){if(i.isVisible){n=r.getEvent(n);var t=u.getKeyCode(n);switch(t){case 27:i.hide();break;case 38:case 40:r.preventDefault(n)}}};this.onBlur=function(){i.hide();r.addEvent(i.controller,r.eventTypes.focus,i.onFocus);r.removeEvent(i.controller,r.eventTypes.blur,i.onBlur);r.removeEvent(i.controller,r.eventTypes.keydown,i.handleKeydownWhenFocused)};this.onMouseOver=function(n){i.isVisible||(n=r.getEvent(n),i.tooltipXPosition=n.clientX,i.tooltipYPosition=n.clientY,i.actOnMouseOver())};this.onMouseOut=function(){i.timer>0&&(window.clearTimeout(i.timer),i.timer=0);i.hide();r.removeEvent(i.controller,r.eventTypes.mouseout,i.onMouseOut);r.addEvent(i.controller,r.eventTypes.mouseover,i.onMouseOver)};this.showForMouse=function(){i.show();r.removeEvent(i.controller,r.eventTypes.mouseover,i.onMouseOver)};this.onScroll=function(){i.isVisible&&!i.animationFrameRequested&&(i.animationFrameRequested=!0,r.SafeBrowserApis.requestAnimationFrame.call(window,function(){return i.handleScroll()}))};this.update()}return __extends(t,n),t.prototype.update=function(){if(this.element){var n=this.element.getAttribute("id");this.controller=r.selectFirstElement("["+t.ariaDescribedByAttribute+'="'+n+'"]');this.controller||(this.controller=r.selectFirstElement("["+t.dataDescribedByAttribute+'="'+n+'"]'),this.exposeToScreenReaders=!this.controller?!0:!1);this.element.setAttribute(t.ariaHidden,"true");this.exposeToScreenReaders||(r.addClass(this.element,t.hiddenClass),r.addClass(this.element,t.hiddenFromScreenReadersClass));!this.controller||(r.addEvent(this.controller,r.eventTypes.mouseover,this.onMouseOver),r.addEvent(this.controller,r.eventTypes.focus,this.onFocus),r.addEvent(window,r.eventTypes.scroll,this.onScroll))}},t.prototype.teardown=function(){r.removeEvent(this.controller,r.eventTypes.mouseover,this.onMouseOver);r.removeEvent(this.controller,r.eventTypes.mouseout,this.onMouseOut);r.removeEvent(this.controller,r.eventTypes.focus,this.onFocus);r.removeEvent(this.controller,r.eventTypes.blur,this.onBlur);r.removeEvent(window,r.eventTypes.scroll,this.onScroll);this.controller=null;this.isVisible=!1;this.tooltipXPosition=0;this.tooltipYPosition=0;this.timer>0&&(window.clearTimeout(this.timer),this.timer=0)},t.prototype.actOnFocus=function(){r.removeClass(this.element,t.hookHover);r.addClass(this.element,t.hookFocus);var n=r.getClientRect(this.controller);this.tooltipXPosition=n.left;this.tooltipYPosition=n.bottom;this.show();r.addEvent(this.controller,r.eventTypes.blur,this.onBlur);r.addEvent(this.controller,r.eventTypes.keydown,this.handleKeydownWhenFocused);r.removeEvent(this.controller,r.eventTypes.focus,this.onFocus)},t.prototype.actOnMouseOver=function(){r.removeClass(this.element,t.hookFocus);r.addClass(this.element,t.hookHover);this.timer=window.setTimeout(this.showForMouse,t.timerDelay);r.addEvent(this.controller,r.eventTypes.mouseout,this.onMouseOut)},t.prototype.handleScroll=function(){this.animationFrameRequested=!1;var n=r.getScrollY(),t=this.scrollYOnShow-n;this.setPosition({top:this.tooltipYPosition+t})},t.prototype.show=function(){this.isVisible=!0;this.scrollYOnShow=r.getScrollY();this.exposeToScreenReaders?this.element.setAttribute(t.ariaHidden,"false"):r.removeClass(this.element,t.hiddenClass);this.setPosition({left:this.tooltipXPosition,top:this.tooltipYPosition})},t.prototype.hide=function(){!!this.element&&this.isVisible&&(this.isVisible=!1,this.exposeToScreenReaders?this.element.setAttribute(t.ariaHidden,"true"):r.addClass(this.element,t.hiddenClass),r.removeClass(this.element,t.hookHover),r.removeClass(this.element,t.hookFocus))},t.prototype.setContent=function(n){!this.element||r.setText(this.element,n)},t.prototype.setPosition=function(n){n&&(!n.left||r.css(this.element,"left",n.left+"px"),!n.top||r.css(this.element,"top",n.top+"px"))},t.selector=".c-tooltip",t.typeName="Tooltip",t.ariaHidden="aria-hidden",t.hiddenClass="x-hidden",t.timerDelay=800,t.hookFocus="hook-focus",t.hookHover="hook-hover",t.ariaDescribedByAttribute="aria-describedby",t.dataDescribedByAttribute="data-f-describedby",t.hiddenFromScreenReadersClass="f-hidden-from-screen-readers",t}(i.ObservableComponent);t.Tooltip=f});require(["tooltip","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.Tooltip}])});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("alert",["require","exports","publisher","htmlExtensions"],function(n,t,i,r){var u=function(n){function t(t){var i=this;n.call(this,t);this.closeAlertAndRemoveEvent=function(){r.removeEvent(i.closeButton,r.eventTypes.click,i.closeAlertAndRemoveEvent);r.removeElement(i.element);i.initiatePublish()};this.update()}return __extends(t,n),t.prototype.update=function(){this.element&&(this.closeButton=r.selectFirstElement("button.c-action-trigger.glyph-cancel",this.element),!this.closeButton||r.addEvent(this.closeButton,r.eventTypes.click,this.closeAlertAndRemoveEvent,!1))},t.prototype.teardown=function(){r.removeEvent(this.closeButton,r.eventTypes.click,this.closeAlertAndRemoveEvent,!1)},t.prototype.publish=function(n){n.onAlertClosed()},t.selector=".m-alert",t.typeName="Alert",t}(i.Publisher);t.Alert=u});require(["alert","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.Alert}])});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("autosuggest",["require","exports","publisher","htmlExtensions","stringExtensions","utility"],function(n,t,i,r,u,f){var e=function(n){function t(i,e){var o=this,s;e===void 0&&(e=null);n.call(this,i,f.isNumber(e)?{}:e);this.suggestionClickListeners=[];this.publishInProgress=[];this.updateSuggestions=function(n){o.publishInProgress.length>0&&o.publishInProgress.pop();var t=o.reconstructMenu(n);o.show();t&&o.setFocusToInput()};this.handleInputKeyup=function(n){o.input&&o.input.value&&(o.cachedInputValue=o.input.value);switch(f.getKeyCode(n)){case 27:break;case 38:break;case 40:break;default:o.initiatePublish({notification:"onMatchPatternChanged",properties:{pattern:o.input.value}});o.publishInProgress.push(!0)}};this.handleInputKeydown=function(n){switch(f.getKeyCode(n)){case 9:case 27:o.hide();break;case 38:r.preventDefault(n);o.handleInputArrowKey(!0);break;case 40:r.preventDefault(n);o.handleInputArrowKey(!1)}};this.handleMenuKeydown=function(n){switch(f.getKeyCode(n)){case 13:o.selectSuggestion(o.selectedSuggestion,!0);break;case 27:o.hide();break;case 38:r.preventDefault(n);o.handleMenuArrowKey(!0);break;case 40:r.preventDefault(n);o.handleMenuArrowKey(!1)}};this.handleClickWhenMenuOpen=function(n){o.closeMenuFromClick(r.getEventTargetOrSrcElement(n))};this.handleInputClick=function(){o.show()};this.selectSuggestionFromClick=function(n){o.selectSuggestion(n,!0)};this.buildStringSuggestionHtml=function(n,t){var i=document.createElement("li");i.setAttribute("class","c-menu-item");i.setAttribute("role","presentation");i.setAttribute("title",n);i.innerHTML='<span role="option" aria-label="'+n+'" tabindex="0">'+o.highlight(n)+"<\/span>";r.addAttribute(i,t);o.ignoreNextDOMChange=!0;o.menu.appendChild(i)};this.buildProductSuggestionHtml=function(n,t){var h=!n.category?"":" - "+n.category,f=document.createElement("li"),i,e,s,c,l;f.setAttribute("class","c-menu-item");f.setAttribute("role","presentation");f.setAttribute("title",n.title+h);o.searchable(f,!1);i=document.createElement("a");i.setAttribute("role","option");i.setAttribute("aria-label",n.title+h+" - Link");i.setAttribute("class","f-product");i.setAttribute("href",n.targetUrl);r.addAttribute(i,t);e="";n.imageSrc&&(s="",c='class="c-image'+(n.isImageRound?" f-round":"")+'"',u.isNullOrWhiteSpace(n.backgroundColor)||n.backgroundColor.toLowerCase()==="transparent"||(s='style="background:'+n.backgroundColor+'"'),e="<img "+c+' src="'+n.imageSrc+'" '+s+"/>");l=n.category?'<span class="c-meta-text">'+n.category+"<\/span>":"";i.innerHTML=e+"<div><span>"+o.highlight(n.title)+"<\/span>"+l+"<\/div>";f.appendChild(i);o.ignoreNextDOMChange=!0;o.menu.appendChild(f)};this.setFocusToInput=function(){o.input&&o.input.focus()};f.isNumber(e)?s=e:e&&f.isNumber(e.scrollLimit)&&(s=e.scrollLimit);this.itemScrollCount=Math.max(t.minimumItemScrollCount,s||t.defaultItemScrollCount);this.update()}return __extends(t,n),t.prototype.update=function(){this.element&&(this.input=r.selectFirstElement("[aria-controls="+this.element.id+"]"),this.input)&&(this.menu=r.selectFirstElement(".c-menu",this.element),this.menu)&&(this.noResults=r.selectFirstElement(".f-auto-suggest-no-results",this.element),this.noResults)&&(this.noResultsItem=r.selectFirstElement(".c-menu-item span",this.noResults),this.noResultsItem)&&(this.noResultsString=this.noResultsItem.textContent,this.noResultsString)&&(this.form=this.element.parentElement,this.form)&&(this.addMenuStateAnnouncement(),r.addEvent(this.input,r.eventTypes.keyup,this.handleInputKeyup,!0),r.addEvent(this.input,r.eventTypes.keydown,this.handleInputKeydown,!0),r.addEvent(this.input,r.eventTypes.click,this.handleInputClick,!0),this.reconstructMenu(null,!0))},t.prototype.teardown=function(){r.removeEvent(this.input,r.eventTypes.keyup,this.handleInputKeyup,!0);r.removeEvent(this.input,r.eventTypes.keydown,this.handleInputKeydown,!0);r.removeEvent(this.input,r.eventTypes.click,this.handleInputClick,!0);r.removeEvent(document.body,r.eventTypes.click,this.handleClickWhenMenuOpen);for(var n=0;n<this.suggestions.length;++n)r.removeEvent(this.suggestions[n],r.eventTypes.keydown,this.handleMenuKeydown),r.removeEvent(this.suggestions[n],r.eventTypes.click,this.suggestionClickListeners[n++]);this.form=null;this.input=null;this.menu=null;this.noResults=null;this.suggestions=null;this.selectedSuggestion=null},t.prototype.searchable=function(n,t){var i="data-is-searchable";if(t===undefined)return n.getAttribute(i)!=="false";n.setAttribute(i,t.toString())},t.prototype.publish=function(n,t){if(n.onMatchPatternChanged&&t.notification==="onMatchPatternChanged")n.onMatchPatternChanged(t.properties);else if(n.onSuggestionSelected&&t.notification==="onSuggestionSelected")n.onSuggestionSelected(t.properties)},t.prototype.handleInputArrowKey=function(n){var t=this.suggestions,r=this.suggestions?this.suggestions.length:0,i;r>0&&(!this.selectedSuggestion&&n?this.selectSuggestion(t[r-1]):this.selectedSuggestion?(i=t.indexOf(this.selectedSuggestion),n&&i===0?this.selectSuggestion(t[r-1]):n?this.selectSuggestion(t[i-1]):i===r-1?this.selectSuggestion(t[0]):this.selectSuggestion(t[i+1])):this.selectSuggestion(t[0]))},t.prototype.handleMenuArrowKey=function(n){var i=this.suggestions,r=this.suggestions?this.suggestions.length:0,t;r>0&&(t=i.indexOf(this.selectedSuggestion),n&&t===0||!n&&t===r-1?(this.input.value=this.cachedInputValue,this.setFocusToInput(),this.selectedSuggestion.setAttribute("data-selected","false"),this.selectedSuggestion=null):n?this.selectSuggestion(i[t-1]):this.selectSuggestion(i[t+1]))},t.prototype.selectSuggestion=function(n,t){var i,u;(t===void 0&&(t=!1),n)&&(this.selectedSuggestion&&this.selectedSuggestion.setAttribute("data-selected","false"),this.selectedSuggestion=n,this.selectedSuggestion.setAttribute("data-selected","true"),r.selectFirstElement("li > a, li > span",this.selectedSuggestion).focus(),i="product",this.searchable(this.selectedSuggestion)?(u=r.getText(this.selectedSuggestion),this.input.value=u,i="term"):this.publishInProgress.length===0&&(this.input.value=""),t&&(this.hide(),this.initiatePublish({notification:"onSuggestionSelected",properties:{suggestion:this.selectedSuggestion,suggestionType:i}}),this.searchable(this.selectedSuggestion)&&this.form.submit()))},t.prototype.hide=function(){this.menu.setAttribute(t.ariaHidden,"true");this.noResults.setAttribute(t.ariaHidden,"true");this.noResultsItem.removeAttribute("aria-label");this.noResultsItem.textContent="";this.form.setAttribute(t.ariaExpanded,"false");r.setText(this.ariaLiveRegion,"");r.removeEvent(document.body,r.eventTypes.click,this.handleClickWhenMenuOpen)},t.prototype.show=function(){if(u.isNullOrWhiteSpace(this.input.value)){this.hide();return}if(this.form.setAttribute(t.ariaExpanded,"true"),this.suggestions&&this.suggestions.length)r.setText(this.ariaLiveRegion,this.menuOpenLocString);else{this.noResults.setAttribute(t.ariaHidden,"false");this.menu.setAttribute(t.ariaHidden,"true");this.noResultsItem.setAttribute("aria-label",this.noResultsString);this.noResultsItem.textContent=this.noResultsString;return}this.noResults.setAttribute(t.ariaHidden,"true");this.menu.setAttribute(t.ariaHidden,"false");r.hasClass(this.menu,"f-auto-suggest-scroll")&&r.css(this.menu,"maxHeight",this.suggestions[0].offsetHeight*this.itemScrollCount+"px");r.addEvent(document.body,r.eventTypes.click,this.handleClickWhenMenuOpen)},t.prototype.closeMenuFromClick=function(n){this.form.contains(n)||this.hide()},t.prototype.reconstructMenu=function(n,t){var s=this,f,o,i,h,u,e;if(t===void 0&&(t=!1),this.suggestions=null,this.suggestionClickListeners=[],!t)for(this.ignoreNextDOMChange=!0,r.removeInnerHtml(this.menu),f=0,o=n;f<o.length;f++){i=o[f];switch(i.type){case"string":this.buildStringSuggestionHtml(i.value,i.attributes);break;case"product":this.buildProductSuggestionHtml(i.value,i.attributes)}}for(this.suggestions=r.nodeListToArray(this.menu.children),h=function(n){r.addEvent(u.suggestions[n],r.eventTypes.keydown,u.handleMenuKeydown);r.addEvent(u.suggestions[n],r.eventTypes.click,u.suggestionClickListeners[n]=function(){s.selectSuggestionFromClick(s.suggestions[n])})},u=this,e=0;e<this.suggestions.length;++e)h(e);return!!this.selectedSuggestion},t.prototype.addMenuStateAnnouncement=function(){this.ariaLiveRegion||(this.ariaLiveRegion=document.createElement("div"),r.addClass(this.ariaLiveRegion,"x-screen-reader"),this.ariaLiveRegion.setAttribute("aria-live","assertive"),this.input.parentNode.insertBefore(this.ariaLiveRegion,this.input.nextSibling),this.ignoreNextDOMChange=!0,this.menuOpenLocString=this.element.getAttribute("data-f-loc-menu-open")||t.menuOpenFallbackString)},t.prototype.highlight=function(n){var t=new RegExp(this.input.value,"ig");return n.replace(t,function(n){return"<b>"+n+"<\/b>"})},t.selector=".m-auto-suggest",t.typeName="AutoSuggest",t.menuOpenFallbackString="results are available, use up and down arrow keys to navigate.",t.defaultItemScrollCount=5,t.minimumItemScrollCount=2,t.ariaHidden="aria-hidden",t.ariaExpanded="aria-expanded",t}(i.Publisher);t.AutoSuggest=e});require(["autosuggest"]);__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("compareChart",["require","exports","observableComponent","htmlExtensions","utility"],function(n,t,i,r,u){var f=function(n){function t(t){var i=this;(n.call(this,t),this.maxRows=0,this.checkPollingCriteria=function(){var n=i.checkForDeferredContent(),t=i.setRowHeightsAcrossAllColumns();return!n&&t},this.recalculate=function(){u.poll(i.checkPollingCriteria,250,-1)},t)&&this.update()}return __extends(t,n),t.prototype.update=function(){return this.cachedDisplayValue=r.css(this.element,"display"),this.columns=r.selectElements(".f-column",this.element),this.maxRows=this.getMaxRowsFromAllColumns(),this.allRows=r.selectElements(".f-row",this.element),this.images=r.selectElementsT("img",this.element),this.recalculate(),this.resizeEventListener=r.addDebouncedEvent(window,r.eventTypes.resize,this.recalculate,50),!0},t.prototype.teardown=function(){this.columns=null;this.maxRows=0;this.allRows=null;this.columnRows=null;this.images=null;r.removeEvent(window,r.eventTypes.resize,this.resizeEventListener)},t.prototype.getMaxRowsFromAllColumns=function(){var t=0,n,i,f,u;for(this.columnRows=[],n=0,i=this.columns;n<i.length;n++)f=i[n],u=r.selectElements(".f-row",f),t=Math.max(t,u.length),this.columnRows.push(u);return t},t.prototype.setRowHeightsAcrossAllColumns=function(){var e=!1,o=[],t,i,s,u,n,f;for(this.displayCompareChart(!1),t=0,i=this.allRows;t<i.length;t++)s=i[t],r.css(s,"height","auto");for(this.displayCompareChart(),n=0;n<this.maxRows;n++)u=this.getMaxRowHeight(n),u===0&&(e=!0),o.push(u);for(this.displayCompareChart(!1),n=0;n<this.maxRows;n++)for(f in this.columns)this.columnRows[f][n]!==undefined&&r.css(this.columnRows[f][n],"height",o[n].toString()+"px");return this.displayCompareChart(),!e},t.prototype.getMaxRowHeight=function(n){var t=0;for(var i in this.columns)this.columnRows[i][n]!==undefined&&(t=Math.max(u.getDimensions(this.columnRows[i][n]).height,t));return t},t.prototype.checkForDeferredContent=function(){for(var i,n=0,t=this.images;n<t.length;n++)if(i=t[n],i.height<2)return!0;return!1},t.prototype.displayCompareChart=function(n){n===void 0&&(n=!0);r.css(this.element,"display",n?this.cachedDisplayValue:"none")},t.selector=".c-compare-chart, .m-compare-chart",t.typeName="CompareChart",t}(i.ObservableComponent);t.CompareChart=f});require(["compareChart","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.CompareChart}])});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("heroItem",["require","exports","hero-item-base"],function(n,t,i){var r=function(n){function t(t,i){i===void 0&&(i=null);n.call(this,t,i);this.heroItemElement=t}return __extends(t,n),t.selector=".c-hero, .m-hero-item",t.typeName="HeroItem",t}(i.HeroItemBase);t.HeroItem=r});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("hero-item-base",["require","exports","observableComponent","publisher","htmlExtensions","stringExtensions"],function(n,t,i,r,u,f){var e=function(n){function t(t,r){var f=this;(n.call(this,t,r),this.heroItemBaseElement=t,this.initialized=!1,this.handleMouseAndTouchStart=function(n){f.startCoordinates=u.getCoordinates(n)},this.handleMouseAndTouchEnd=function(n){var t=f.startCoordinates,i=u.getCoordinates(n),r=n.which||n.button;r===1&&t&&i&&!f.isSwipe(t,i)&&f.handleValidUserInteraction(n,u.getEventTargetOrSrcElement(n))},this.verifyPreciseInteraction=function(){return u.hasClass(f.heroItemBaseElement,"f-precise-click")?!0:!1},i.ObservableComponent.shouldInitializeAsClass(t,r))&&u.SafeBrowserApis.requestAnimationFrame.call(window,function(){return f.update()})}return __extends(t,n),t.prototype.update=function(){return this.heroItemBaseElement?(this.callsToAction=u.selectElementsT(this.constructor.callToActionSelector,this.heroItemBaseElement),this.addEventListeners(),this.initialized=!0,!0):!1},t.prototype.teardown=function(){this.removeEventListeners();this.initialized=!1},t.prototype.publish=function(n,t){if(n.onHeroItemClicked){n.onHeroItemClicked(t);this.preventDefaultClickAction=this.preventDefaultClickAction||t.preventDefault}},t.prototype.addEventListeners=function(){this.verifyCallToAction()&&!this.verifyPreciseInteraction()&&(u.addEvent(this.heroItemBaseElement,u.eventTypes.mousedown,this.handleMouseAndTouchStart),u.addEvent(this.heroItemBaseElement,u.eventTypes.mouseup,this.handleMouseAndTouchEnd))},t.prototype.removeEventListeners=function(){u.removeEvent(this.heroItemBaseElement,u.eventTypes.mousedown,this.handleMouseAndTouchStart);u.removeEvent(this.heroItemBaseElement,u.eventTypes.mouseup,this.handleMouseAndTouchEnd)},t.prototype.handleValidUserInteraction=function(n,t){if(!t||this.isCallToActionOrDescendent(t)||!this.verifyCallToAction())return!1;var i={preventDefault:!1,event:n,targetElement:t,targetUri:this.callsToAction[0].href};return this.preventDefaultClickAction=!1,this.initiatePublish(i),this.preventDefaultClickAction?this.preventDefaultClickAction=!1:(n&&u.stopPropagation(n),this.navigateToUrl(this.callsToAction[0].href,this.callsToAction[0].target)),!0},t.prototype.isCallToActionOrDescendent=function(n){for(var r,t=0,i=this.callsToAction;t<i.length;t++)if(r=i[t],r===n||u.isDescendent(r,n))return!0;return!1},t.prototype.isSwipe=function(n,i){if(!n||!i)return!1;var r=Math.abs(i.y-n.y),u=Math.abs(i.x-n.x);return u>t.minimumSwipeDistance||r>t.minimumSwipeDistance},t.prototype.navigateToUrl=function(n,t){f.isNullOrWhiteSpace(n)||window.open(n,f.isNullOrWhiteSpace(t)?"_self":t)},t.prototype.verifyCallToAction=function(){var n=this.callsToAction&&this.callsToAction.length&&!f.isNullOrWhiteSpace(this.callsToAction[0].href);return n?this.heroItemBaseElement.setAttribute(t.dataJsHref,this.callsToAction[0].href):this.heroItemBaseElement.removeAttribute(t.dataJsHref),n},t.prototype.onCollectionItemHidden=function(){},t.prototype.onCollectionItemShown=function(){},t.prototype.triggerItem=function(){return this.callsToAction&&this.callsToAction.length?this.handleValidUserInteraction(null,this.callsToAction[0]):!1},t.dataJsHref="data-js-href",t.minimumSwipeDistance=30,t.callToActionSelector="a.c-call-to-action",t}(r.Publisher);t.HeroItemBase=e});require(["heroItem","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.HeroItem}])});__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("productPlacement",["require","exports","observableComponent","htmlExtensions","utility","handleImageError","breakpointTracker"],function(n,t,i,r,u,f,e){var o=function(n){function t(t){var i=this;n.call(this,t);this.onWindowResize=function(){i.onResize()};this.update();this.isFlexLayout&&!!this.products&&e.BreakpointTracker.getBreakpointTracker().subscribe({onBreakpointChanged:function(n){i.onBreakpointChanged(n)}})}return __extends(t,n),t.prototype.update=function(){var f=this,n,i,u;if(this.element){this.carousel=r.selectFirstElement(".c-carousel",this.element);this.products=r.selectFirstElement("ul",this.element);this.seeAll=r.selectFirstElement('[class^="c-heading"] .c-hyperlink[aria-label]',this.element);this.isFlexLayout=this.element.getAttribute("data-js-flex")==="true"?!0:!1;this.flexProductsLength=r.selectElements("li",this.products).length;var o=this.seeAll?this.seeAll.parentElement:null,s=r.selectElements(".f-default-image img",this.element),h=function(n){n.onerror=function(){f.handleProductPlacementImageError(n)};r.isImageLoadFailed(n)&&c.handleProductPlacementImageError(n)},c=this;for(n=0,i=s;n<i.length;n++)u=i[n],h(u);if(this.isFlexLayout&&!!this.products){this.coerceFlexProductsLength();this.onBreakpointChanged({breakpoint:e.BreakpointTracker.getBreakpointTracker().getBreakpoint(),width:0})}(!this.carousel||!this.products||!this.seeAll||r.hasClass(o,t.showAllAlwaysClass))&&(!this.isFlexLayout||!this.products)||(this.onResize(),this.resizeListener=r.addThrottledEvent(window,r.eventTypes.resize,this.onWindowResize))}},t.prototype.teardown=function(){r.removeEvent(window,r.eventTypes.resize,this.resizeListener);this.carousel=null;this.products=null;this.seeAll=null;this.resizeListener=null},t.prototype.onResize=function(){var i,n;!this.carousel||!this.products||!this.seeAll||(n=u.getDimensions(this.carousel).width,i=u.getDimensions(this.products).width,i<n?this.seeAll.setAttribute(t.ariaHidden,"true"):this.seeAll.removeAttribute(t.ariaHidden));this.isFlexLayout&&!!this.products&&(n=this.flexProductsLength*t.flexItemDefaultWidth+"px",r.css(this.products,"width",u.Viewports.getViewport()<3?n:"auto"))},t.prototype.coerceFlexProductsLength=function(){var i=r.selectElements("li",this.products),n;if(i.length>t.flexProductsMaxLength)for(this.flexProductsLength=t.flexProductsMaxLength,n=t.flexProductsMaxLength;n<i.length;n++)i[n].setAttribute("aria-hidden","true");else if(i.length<t.flexProductsMaxLength)for(n=i.length;n<t.flexProductsMaxLength;n++)this.ignoreNextDOMChange=!0,this.products.appendChild(document.createElement("li"))},t.prototype.onBreakpointChanged=function(n){var t=r.selectElements("li",this.products);n.breakpoint<2?(r.addClass(this.element,"f-scrollable"),t[7].setAttribute("aria-hidden",t[7].firstChild?"false":"true"),t[6].setAttribute("aria-hidden",t[6].firstChild?"false":"true"),t[5].setAttribute("aria-hidden",t[5].firstChild?"false":"true"),t[4].setAttribute("aria-hidden",t[4].firstChild?"false":"true")):(r.removeClass(this.element,"f-scrollable"),t[7].setAttribute("aria-hidden",n.breakpoint<4?"true":"false"),t[6].setAttribute("aria-hidden",n.breakpoint<4?"true":"false"),t[5].setAttribute("aria-hidden",n.breakpoint<3?"true":"false"),t[4].setAttribute("aria-hidden",n.breakpoint<3?"true":"false"));this.setProductImageHeight()},t.prototype.setProductImageHeight=function(){var n="default";r.selectElements('li[aria-hidden="false"] .m-product-placement-item[class*="context-movie"]',this.products).length>0?n="movie":r.selectElements('li[aria-hidden="false"] .m-product-placement-item[class*="context-device"]',this.products).length>0&&r.selectElements('li[aria-hidden="false"] .m-product-placement-item:not([class*="context-device"])',this.products).length===0&&(n="device");r.removeClasses(this.products,["f-height-default","f-height-device","f-height-movie"]);r.addClasses(this.products,["f-height-"+n,"f-visible"])},t.prototype.handleProductPlacementImageError=function(n){for(var i=!1,t=n,u,e;!i;){if(!t.parentElement)break;t=t.parentElement;r.hasClass(t,"m-product-placement-item")&&(i=!0)}i&&(u=void 0,u=r.hasClass(t,"context-app")?1:r.hasClass(t,"context-person")||r.hasClass(t,"context-artist")?2:r.hasClass(t,"context-video")?3:0,e=r.hasClass(t,"f-size-small")?1:0,f.handleImageError(n,e,u))},t.selector=".m-product-placement",t.typeName="ProductPlacement",t.flexProductsMaxLength=8,t.flexItemDefaultWidth=124,t.ariaHidden="aria-hidden",t.showAllAlwaysClass="js-product-placement-persist-show-all",t}(i.ObservableComponent);t.ProductPlacement=o});require(["productPlacement","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.ProductPlacement}])});define("actionToggleTelemetryHelper",["require","exports","actionToggle","componentFactory","coreUIConstants"],function(n,t,i,r,u){var f=function(){function n(n){var t=this;(this.element=n,this.onActionToggled=function(){setTimeout(function(){t.updateTelemetryDataAttribute()},0)},n)&&r.ComponentFactory.create([{component:i.ActionToggle,elements:[n],callback:function(n){n&&n.length===1&&(n[0].subscribe(t),t.actionToggle=n[0])}}])}return n.prototype.updateTelemetryDataAttribute=function(){var n=JSON.parse(this.element.getAttribute(u.CoreUIConstants.TelemetryDataAttributeKey)||"{}");n.cN&&(n.cN=this.actionToggle.isToggled()?this.element.getAttribute(u.CoreUIConstants.DataToggledLabelAttributeKey)||n.cN:this.element.getAttribute(u.CoreUIConstants.DataDefaultLabelAttributeKey)||n.cN,this.element.setAttribute(u.CoreUIConstants.TelemetryDataAttributeKey,JSON.stringify(n)))},n}();t.ActionToggleTelemetryHelper=f});require(["actionToggleTelemetryHelper","actionToggle","componentFactory","coreUIConstants"],function(n,t,i){i.ComponentFactory&&i.ComponentFactory.create&&i.ComponentFactory.create([{component:n.ActionToggleTelemetryHelper,selector:t.ActionToggle.selector}])});define("coreUIConstants",["require","exports"],function(n,t){var i=function(){function n(){}return n.TelemetryDataAttributeKey="data-m",n.DataToggledLabelAttributeKey="data-telemetry-toggled-label",n.DataDefaultLabelAttributeKey="data-telemetry-default-label",n}();t.CoreUIConstants=i});define("heroItemTelemetryHelper",["require","exports","componentFactory","htmlExtensions"],function(n,t,i,r){var u=function(){function n(n){var t=this;(this.element=n,this.attached=!1,this.onHeroItemClicked=function(n){var i=window.mscc,t;i&&!i.hasConsent()&&i.setConsent();t=window.awa;t&&t.ct&&t.ct.capturePageAction&&t.actionType&&t.ct.capturePageAction(n.targetElement,{targetUri:n.targetUri,actionType:t.actionType.CLICKLEFT})},n)&&r.SafeBrowserApis.requestAnimationFrame.call(window,function(){return t.attachToHeroItem()})}return n.prototype.attachToHeroItem=function(){var n=this;i.ComponentFactory.enumerateComponents(this.element,function(t,i){return i.subscribe&&(n.attached=i.subscribe(n)),!n.attached});this.attached||r.SafeBrowserApis.requestAnimationFrame.call(window,function(){return n.attachToHeroItem()})},n}();t.HeroItemTelemetryHelper=u});require(["heroItemTelemetryHelper","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.HeroItemTelemetryHelper,selector:".c-hero, .m-hero-item, .m-feed-hero-item, .m-immersive-hero-item, .m-multi-hero-item"}])}),function(){require(["trackHelper","jsll"],function(n,t){function e(n,t,i){if(i===void 0&&(i={}),!n||!t)return null;var r;return i.bubbles=typeof i.bubbles=="undefined"?!0:i.bubbles,i.cancelable=typeof i.cancelable=="undefined"?!0:i.cancelable,document.createEvent?(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,i.bubbles,i.cancelable,i)):window.CustomEvent?r=new CustomEvent(t,i):(r=document.createEventObject(),n.fireEvent("on"+t,r)),n.dispatchEvent(r),r}function i(i){var u,f;try{return u=JSON.parse(r.getAttribute("data-m")),u.cN+=" "+i,f=n.extendPageActionContentTags(r),t.utils.extend(u,f)}catch(e){return null}}function o(){var n=$(".msame_Header");n.on("mousedown",function(){u=!0});n.on("keydown",function(){u=!1})}var r=document.getElementById("meControl"),u=!1,f={},s="Drop Down Link",h="Drop Down Open",c="View Account",l="View Rewards",a="Sign In",v="Sign Out";f={events:{onEventLog:function(n,f){var p,y;if(n.indexOf("HeaderReady")>=0&&o(),n.indexOf("DropdownReady")>=0&&(p=document.querySelector(".msame_Drop_content"),!p||p.setAttribute("data-bi-dnt","true")),n.indexOf("MeControl_")>=0&&f&&f.type&&f.type==="bici"&&n.indexOf("Ready")<0){y={targetUri:f.targetUri,behavior:t.behavior.UNDEFINED,actionType:u?"CL":"KE",content:i(s)};switch(n&&n.substring(n.indexOf("_")).toLowerCase()){case"_dropdownopen":y.behavior=t.behavior.EXPAND;y.content=i(h);break;case"_viewaccount":y.content=i(c);break;case"_rewards":y.content=i(l);break;case"_signin":y.behavior=t.behavior.SIGNIN;y.content=i(a);break;case"_signoutall":case"_signout":y.behavior=t.behavior.SIGNOUT;y.content=i(v)}r&&t.ct.capturePageAction(r,y);e(window,"onMeControlClick",{detail:n})}},onSearch:function(n){if(t){var r=n.getElementsByTagName("button")[0],u=n.action+"?"+$(n).serialize(),i=document.getElementById("cli_shellHeaderSearchInput"),f={targetUri:u,behavior:t.behavior.SEARCH,contentTags:{srchq:i?i.value:"",srchtype:"manual"}};t.ct.capturePageAction(r,f)}}}};window.msCommonShell?window.msCommonShell.load(f):window.onShellReadyToLoad=function(){"use strict";window.onShellReadyToLoad=null;window.msCommonShell.load(f)}})}();__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("multiFlyout",["require","exports","observableComponent","htmlExtensions"],function(n,t,i,r){var u=function(n){function t(i){var u=this;n.call(this,i);this.element=i;this.firstPageLinkNavigation=function(){r.addClass(u.element,t.pageLinkClass);r.addClass(u.buttonGroupElement,t.buttonGroupClass);r.css(u.flyoutMainPage,"display","none");r.css(u.pageLink1,"display","block");r.css(u.backButton,"display","block");u.flyoutBody=u.pageLink1};this.secondPageLinkNavigation=function(){r.addClass(u.element,t.pageLinkClass);r.addClass(u.buttonGroupElement,t.buttonGroupClass);r.css(u.flyoutMainPage,"display","none");r.css(u.pageLink2,"display","block");r.css(u.backButton,"display","block");r.css(u.legalText,"display","block");u.flyoutBody=u.pageLink2};this.thirdPageLinkNavigation=function(){r.addClass(u.element,t.pageLinkClass);r.addClass(u.buttonGroupElement,t.buttonGroupClass);r.css(u.flyoutMainPage,"display","none");r.css(u.pageLink3,"display","block");r.css(u.backButton,"display","block");u.flyoutBody=u.pageLink3};this.buttonNavigation=function(){r.css(u.pageLink1,"display")==="block"?r.css(u.pageLink1,"display","none"):r.css(u.pageLink2,"display")==="block"?r.css(u.pageLink2,"display","none"):r.css(u.pageLink3,"display")==="block"&&r.css(u.pageLink3,"display","none");r.css(u.legalText,"display","none");r.removeClass(u.element,t.pageLinkClass);r.removeClass(u.buttonGroupElement,t.buttonGroupClass);r.css(u.backButton,"display","none");r.css(u.flyoutMainPage,"display","block")};this.update()}return __extends(t,n),t.prototype.update=function(){this.bodyElement=r.selectFirstElement("body");this.flyoutOpenButton=r.selectFirstElement(".multiflyout-button");this.closeButton=r.selectFirstElement(t.flyoutContentClass+" .multiflyout-close",this.element);this.backButton=r.selectFirstElement(t.flyoutContentClass+" .c-call-to-action",this.element);this.flyoutMainPage=r.selectFirstElement(t.flyoutContentClass+" .c-flyout-page",this.element);this.pageLink1=r.selectFirstElement(t.flyoutContentClass+" .c-flyout-pagelink-1",this.element);this.pageLink2=r.selectFirstElement(t.flyoutContentClass+" .c-flyout-pagelink-2",this.element);this.pageLink3=r.selectFirstElement(t.flyoutContentClass+" .c-flyout-pagelink-3",this.element);this.legalText=r.selectFirstElement(t.flyoutContentClass+" .flyout-legaltext",this.element);this.buttonGroupElement=r.selectFirstElement(t.flyoutContentClass+" .button-group");this.flyoutBody=r.selectFirstElement(t.flyoutContentClass,this.element);this.pageItem1=r.selectFirstElement(t.flyoutContentClass+" .item-1-link-1",this.element);this.pageItem2=r.selectFirstElement(t.flyoutContentClass+" .item-1-link-2",this.element);this.pageItem3=r.selectFirstElement(t.flyoutContentClass+" .item-1-link-3",this.element);r.addEvent(this.closeButton,r.eventTypes.click,this.buttonNavigation);r.addEvent(this.backButton,r.eventTypes.click,this.buttonNavigation);r.addEvent(this.pageItem1,r.eventTypes.click,this.firstPageLinkNavigation);r.addEvent(this.pageItem2,r.eventTypes.click,this.secondPageLinkNavigation);r.addEvent(this.pageItem3,r.eventTypes.click,this.thirdPageLinkNavigation)},t.prototype.teardown=function(){r.removeEvent(this.closeButton,r.eventTypes.click,this.buttonNavigation);r.removeEvent(this.backButton,r.eventTypes.click,this.buttonNavigation);r.removeEvent(this.pageItem1,r.eventTypes.click,this.firstPageLinkNavigation);r.removeEvent(this.pageItem2,r.eventTypes.click,this.secondPageLinkNavigation);r.removeEvent(this.pageItem3,r.eventTypes.click,this.thirdPageLinkNavigation)},t.selector=".flyout-content",t.buttonGroupClass="c-group",t.pageLinkClass="f-pagelink",t.flyoutContentClass=".flyout-content",t}(i.ObservableComponent);t.MultiFlyout=u});require(["multiFlyout","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.MultiFlyout}])});define("targeting",["jqReady!","domReady!"],function(n){function t(){n("body").on("click",function(t){var f=n(t.target),u;return r(f)&&(u=i(f),typeof u=="string"&&n.ajax(u)),!0})}function i(t){var r=t.parents("[data-target]"),i;if(r.length>0)return i=n(r.get(0)).data("target"),i&&i.trackerUri}function r(n){return n.is("a, button, form, select, input, [data-js-href]")||n.parents("a, button, [data-js-href]").length>0}return{setup:t}});require(["targeting"],function(n){n.setup()});require(["jsll","window"],function(n,t){if(t.performance&&performance.mark&&t.requestAnimationFrame)setTimeout(function(){"use strict";var e=0,i,r=t.performance.getEntriesByName("frame","mark"),o=[],h=[],u,f,s;if(r&&r.length>0){for(u=0;u<r.length;u++)f=u===0?Math.round(r[0].startTime):Math.round(r[u].startTime-r[u-1].startTime),f=f===16||f===18?17:f,o.push(f.toString(36));for(i=o[0],s=0;s<o.length;s++)i===o[s]?e++:(h.push(e===1?i:e===2?i+";":i+";"+e.toString(36)),e=1,i=o[s]);h.length>0&&(t._pageTimings||(t._pageTimings={}),t._pageTimings.frameMarkerData=h,t._pageTimings.wasPageHidden||(t._pageTimings.wasPageHidden=!1),n.ct.captureContentUpdate({timings:{frameMarkerData:t._pageTimings.frameMarkerData,wasPageHidden:t._pageTimings.wasPageHidden}}))}},3e4)});require(["jsll","window","domReady!"],function(n,t){var i,r;if(t.performance&&performance.measure&&t.parent===t&&(performance.timing.responseStart&&performance.timing.domInteractive&&(performance.measure("HtmlDuration","responseStart","domInteractive"),performance.getEntriesByName("HeadEnd").length!=0&&(performance.measure("HeadDuration","responseStart","HeadEnd"),performance.measure("BodyDuration","HeadEnd","domInteractive")),performance.getEntriesByName("FooterAreaEnd").length!=0&&performance.measure("PostFooterDuration","FooterAreaEnd","domInteractive")),t._pageTimings||(t._pageTimings={}),t._pageTimings.checkPointMetrics={},i=performance.getEntriesByType("measure"),i.length!=0)){for(r=0;r<i.length;r++)t._pageTimings.checkPointMetrics[i[r].name]=Math.round(i[r].duration);n.ct.captureContentUpdate({timings:t._pageTimings.checkPointMetrics})}});define("navigationMenus",["require","exports","utility","htmlExtensions","jquery"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var e=".c-universal-header",b=".js-global-head",o="#uhf-c-nav",c="#uhf-g-nav",it="#uhf-l-nav",f=".js-nav-menu",d=".js-subm-uhf-nav-link",s=".f-mobile-title .c-action-trigger.glyph-chevron-left",h=".f-mobile-title .c-action-trigger.glyph-chevron-right",v=".js-global-head .c-action-trigger.glyph-global-nav-button",a=".js-mobile-title",k=".glyph-shopping-cart",l="aria-expanded",y="ms.interactiontype",g="aria-hidden",nt="f-opened",tt="f-closed",p="f-flip",w="f-current",rt=function(){function n(){}return n.closeMenu=function(t,i){var f=t.filter(n.$menus),e,o;f.length!==0&&(e=f.children("button"),e.attr(l,"false"),f.children("ul").attr(g,"true"),e.attr(y)!==undefined&&e.attr(y,"14"),i&&e.focus(),u(p,f).removeClass(p),o=r.getDirection()===r.Direction.left?"margin-left":"margin-right",u(" > ul",f).css(o,"").height(""),f.closest("ul").height(""))},n.openMenu=function(t){var i=t.filter(n.$menus),s,o,c,a,d,tt;if(i.length!==0){s=i.children("button");s.attr(l,"true");i.children("ul").attr(g,"false");s.attr(y)!==undefined&&s.attr(y,"15");var f=i.find("ul").first(),e=f[0].getBoundingClientRect(),h=u(window).width(),w=r.getDirection();if(i.is(n.$levelTwoMenus)){if(o=i.parent("ul"),o.height(""),f.height(""),c=o.height(),a=f.height(),c>a?f.height(c):c<a&&o.height(a),d=w===r.Direction.left&&e.right>h||w===r.Direction.right&&e.left<0,f.hasClass(p))return;d&&o.find("ul").addClass(p)}else if(!n.isMobile()&&i.is(n.$menus.not(n.$levelTwoMenus))){var b=f[0].offsetWidth,v=0,nt=20,k=f.hasClass("f-multi-column");k&&e.right>h?v=e.right-h+nt:k&&e.left<0?v=-e.left+nt:!k&&e.left+b*2>h&&e.right-b*2<0&&(v=b-i[0].offsetWidth);tt=w===r.Direction.left?"marginLeft":"marginRight";f[0].style[tt]=-v+"px"}}},n.isOpen=function(n){return n.children("button").attr(l)==="true"},n.toggleMenu=function(t,i){if(n.isOpen(t)){var r=u(f,t).add(t);n.closeMenu(r,i)}else n.closeAllOpenMenus(t.parents()),n.openMenu(t)},n.wasClickFromKeyboard=function(n){return n.keyCode===13},n.isMobile=function(){return i.Viewports.getViewport()<3},n.getOriginalGlobalTitle=function(){return u(e+" "+a).data().globalTitle},n.closeIfBlurred=function(t){(u(t.target).is(".c-uhf-nav-link")||!u(t.target).parents().is(o+",\n            "+c+", "+it))&&n.closeAllOpenMenus()},n.handleEscapeCloseMenu=function(t){if(t.keyCode===27&&t.currentTarget===u(t.target).closest(f)[0]){var i=u(t.currentTarget).closest(f);n.isOpen(i)?n.closeMenu(i,!0):n.closeMenu(i.parent().closest(f),!0)}},n.closeOpenSiblingMenusOnFocusChange=function(t){var i=u(t.target).closest(f).first(),r;i.is(n.$menus)&&(r=i.parents(f),n.closeAllOpenMenus(r.add(i)))},n.closeAllOpenMenus=function(t){n.closeMenu(u(' > [aria-expanded="true"]',n.$menus).parent().not(t))},n.init=function(){u(e).removeClass("no-js").addClass("js").on("keyup",n.menuSelector,n.handleEscapeCloseMenu);n.originalMobileTitle=u(a).text();n.$menus=u(f);n.$levelTwoMenus=u(f+" "+f);n.$multiColumnMenus=u(".f-multi-column "+f)},n.clearCustomMenuHeights=function(){u(" > ul[style]",n.$menus).height("")},n.handleMoveIntoDesktopViewport=function(){n.openMenu(n.$multiColumnMenus);n.clearCustomMenuHeights();n.$multiColumnMenus.children("button").attr("tabindex",-1);n.$menus=n.$menus.not(n.$multiColumnMenus);u(".js-cat-head").show();u(o).show();u(c).show();u("#meControl").show();u(e+" .c-search").show();u(e+" "+k).show();u("body").css("overflow-y","auto");u(document).off("click",n.closeIfBlurred).on("click",n.closeIfBlurred);u(document).off("focusin",n.closeIfBlurred).on("focusin",n.closeIfBlurred);u(v).off("click",n.toggleHamburger);u(s).off("click",n.handleMobilePrimaryButton);u(h).off("click",n.handleMobileSecondaryButton);u(e).off("click",n.handleMobileMenuClick).off("click",n.handleDesktopMenuClick).on("click",n.handleDesktopMenuClick).off("focusin",n.closeOpenSiblingMenusOnFocusChange).on("focusin",n.closeOpenSiblingMenusOnFocusChange).off("touchstart",n.setTouched).on("touchstart",n.setTouched).off("pointerenter",n.setTouchedIfPointer).on("pointerenter",n.setTouchedIfPointer).off("mouseover",n.handleDesktopMenuMouseEnter).on("mouseover",n.handleDesktopMenuMouseEnter).off("mouseout",n.handleDesktopMenuMouseLeave).on("mouseout",n.handleDesktopMenuMouseLeave);n.resetTitleMobileText();n.closeAllOpenMenus()},n.setTouchedIfPointer=function(t){t&&t.originalEvent.pointerType==="touch"&&n.setTouched()},n.setTouched=function(){n.wasTouched=!0},n.handleDesktopMenuClick=function(t){var i,r;if(u(t.target).is(d)){n.closeAllOpenMenus();return}t.target.tagName!=="A"&&(i=u(t.target).closest(f),i.is(n.$menus))&&((t.preventDefault(),u("> a, > button",i).hasClass("f-hidden"))||(r=n.wasClickFromKeyboard(t),n.toggleMenu(i,r)))},n.handleDesktopMenuMouseEnter=function(t){var i=u(t.target).closest(f);!n.wasTouched&&i.is(n.$levelTwoMenus)&&(n.closeAllOpenMenus(i.parents()),n.openMenu(i))},n.handleDesktopMenuMouseLeave=function(t){var i=u(t.target).closest(f);n.wasTouched||!i.is(n.$levelTwoMenus)||i[0]&&i[0].contains(t.relatedTarget)||n.closeMenu(i)},n.handleMobileMenuClick=function(t){var i=u(t.target).closest(f),r;i.is(n.$menus)&&!n.isOpen(i)&&(r=u(t.target).text(),n.setTitleMobileText(r),u(s).show(),u(h).hide(),n.openMenu(i))},n.handleMoveIntoMobileViewport=function(){n.$menus=n.$menus.add(n.$multiColumnMenus);n.$multiColumnMenus.children("button").attr("tabindex",null);u(h).hide();u(o).hide();u(c).hide();u(v).attr(l,"false");u(b).addClass(tt).removeClass(nt);u("#meControl").hide();u(e+" .c-search").show();u(e+" "+k).show();u(document).off("click",n.closeIfBlurred);u(document).off("focusin",n.closeIfBlurred);u(v).off("click",n.toggleHamburger).on("click",n.toggleHamburger);u(s).off("click",n.handleMobilePrimaryButton).on("click",n.handleMobilePrimaryButton);u(h).off("click",n.handleMobileSecondaryButton).on("click",n.handleMobileSecondaryButton);u(e).off("touchstart",n.setTouched).off("pointerenter",n.setTouchedIfPointer).off("mouseover",n.handleDesktopMenuMouseEnter).off("mouseout",n.handleDesktopMenuMouseLeave).off("click",n.handleDesktopMenuClick).off("click",n.handleMobileMenuClick).on("click",n.handleMobileMenuClick).off("focusin",n.closeOpenSiblingMenusOnFocusChange).off("click",n.handleDesktopMenuClick);n.closeAllOpenMenus()},n.setTitleMobileText=function(n){u(a).text(n)},n.hasCategoryMenu=function(){return u(o).length>0},n.hasGlobalNavItems=function(){return u(c).length>0},n.resetTitleMobileText=function(){var i=u(a),t=n.originalMobileTitle;!t||i.text(t)},n.handleMobilePrimaryButton=function(){var r=u(' > [aria-expanded="true"]',n.$menus),t,i;r[0]?(t=r.last().parent(f),n.closeMenu(t),i=!u(' > [aria-expanded="true"]',n.$menus)[0],i&&!u(o).is(":visible")?(u(s).hide(),n.hasCategoryMenu()&&u(h).show(),n.setTitleMobileText(n.getOriginalGlobalTitle())):i&&u(o).is(":visible")?(n.resetTitleMobileText(),n.hasGlobalNavItems()||u(s).hide()):n.setTitleMobileText(t.parents(f).first().children("button").first().text())):(u(o).hide(),u(c).show(),u(s).hide(),n.hasCategoryMenu()&&u(h).show(),n.setTitleMobileText(n.getOriginalGlobalTitle()))},n.handleMobileSecondaryButton=function(){u(c).hide();u(o).show();u(s).show();u(h).hide();n.resetTitleMobileText()},n.toggleHamburger=function(){var t=u(v),i="#meControl, "+o+", "+c,r=e+" .c-search,\n                "+e+" "+k;t.attr(l)==="false"?(u(b).addClass("f-opened").removeClass("f-closed"),u(r).hide(),u(i).show(),u("body").css("overflow-y","hidden"),t.attr(l,"true"),n.hasCategoryMenu()&&n.hasGlobalNavItems()?(u(s).show(),u(h).hide(),u(c).hide()):u(s+", "+h).hide()):(u(b).removeClass(nt).addClass(tt),u(r).show(),u(i).hide(),u("body").css("overflow-y","auto"),t.attr(l,"false"));n.resetTitleMobileText();n.closeAllOpenMenus()},n.resetNavHighlight=function(n){r.removeClass(r.selectElements("."+w,n),w)},n.setCurrentMenuItemId=function(t){var i=null,f=r.selectFirstElement(e);try{i=r.selectFirstElement("#"+t,f)}catch(o){return}i&&(n.resetNavHighlight(f),r.addClass(i,w),u(i).parents("ul").siblings("button").addClass(w))},n.wasTouched=!1,n.mobilePrimaryButtonSelector=s,n.globalNavSelector=c,n.categoryNavSelector=o,n.mobileSecondaryButtonSelector=h,n.mobileTitleSelector=a,n.menuSelector=f,n.subMenuLinkSelector=d,n.uhfSelector=e,n.originalMobileTitle="",n}();t.NavigationMenus=rt});define("shoppingCart",["require","exports","jquery","htmlExtensions"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){if(this.shoppingCartFrame=document.getElementById(n.shoppingCartFrameId),!this.shoppingCartFrame)return null;var t=this.shoppingCartFrame.getAttribute("data-src");!t||this.shoppingCartFrame.setAttribute("src",t);i(window).on("message onmessage",this.handleEvent)}return n.prototype.handleEvent=function(t){var u=t.originalEvent.data,e="0",o=r.selectElements(n.shoppingCartCountSelector),f;u&&u.split&&o&&(f=u.split("="),f[0]==="DR_Cart_Count"&&(e=f[1],i(o).text(e)))},n.shoppingCartFrameId="shell-cart-count",n.shoppingCartCountSelector=".shopping-cart-amount",n}();t.ShoppingCart=u});__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("uhfAutoSuggest",["require","exports","autosuggest","htmlExtensions","utility","uhfTelemetryHelper"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var i=n.call(this,r.selectFirstElement(t.autoSuggestSelector))||this,o,e;if(i.latestTimestampReceived=0,i.autoSuggestCallback=function(n){var t=window.msCommonShell&&window.msCommonShell.as,r;t&&t.callback?t.callback({text:n.pattern,response:i.updateSuggestions}):t&&t.legacyCallback?t.legacyCallback({text:n.pattern,response:i.mapLegacyCallback}):t&&t.ussAPIParams&&t.ussAPIParams.clientId&&t.ussAPIParams.sources?(t.ussAPIParams.query=n.pattern,t.ussAPIParams.market=t.ussAPIParams.market||i.params.market,r=i.autoSuggestUrl+"?"+$.param(t.ussAPIParams),i.ajaxCall(r,i.updateSuggestions)):i.params&&i.params.clientId&&i.params.sources&&(i.params.query=n.pattern,r=i.autoSuggestUrl+"?"+$.param(i.params),i.ajaxCall(r,i.updateSuggestions))},i.suggestionSelectedCallback=function(n){if(n&&n.suggestion&&n.suggestionType){try{f.fireBeacon(n.suggestion.firstChild.getAttribute("iris-onclick-url"))}catch(r){}if(event.type&&i.telemetryType){var t={trackType:"autosuggest",telemetryType:i.telemetryType,event:event.type==="click"?"CL":"KE",title:n.suggestion.title,suggestionType:n.suggestionType};f.trackEvent(t)}}},i.mapLegacyCallback=function(n){for(var t,r=[],u=0,f=n.suggestions;u<f.length;u++)t=f[u],t.image&&t.title?r.push({type:"product",value:{title:t.title,targetUrl:t.target,imageSrc:t.image}}):t.title&&r.push({type:"string",value:t.title});i.updateSuggestions(r)},i.ajaxCall=function(n,t){var u=Date.now(),r=new XMLHttpRequest,f=i;r.open("GET",n,!0);r.onreadystatechange=function(){if(this.readyState===4&&this.status>=200&&this.status<400)try{f.processJsonData(u,JSON.parse(this.responseText),t)}catch(n){}};r.send();r=null},i.responseHandlers={Term:function(n){var t=[];return i.telemetryType==="wedcs"&&t.concat(i.getWedcsAttributes(n.Txt)),{type:"string",value:n.Txt,attributes:t}},Product:function(n){for(var r,o=null,u=[],e=0,s=n.Metas;e<s.length;e++){if(r=s[e],r.Key==="AppBgColor"){o=r.Value;continue}if(r.Key==="IrisBiClickBeacon"){u.push({name:"iris-onclick-url",value:r.Value});continue}if(r.Key==="IrisBiImpressionBeacon"){f.fireBeacon(r.Value);continue}}return i.telemetryType==="wedcs"&&u.concat(i.getWedcsAttributes(n.Title)),{type:"product",value:{title:n.Title,category:i.familyNames[n.Source],backgroundColor:o,imageSrc:t.transformImageUrl(n.ImageUrl),targetUrl:n.Url,isImageRound:n.Source==="MusicArtists"||n.Source==="VideoActor"},attributes:u}}},i.configurationElement=r.selectFirstElement(t.configElementSelector),i.configurationElement){i.autoSuggestUrl=i.configurationElement.getAttribute(t.apiUrlAttribute);o=r.selectFirstElement("["+t.telemetryAttribute+"]",i.configurationElement);!o||(i.telemetryType=o.getAttribute(t.telemetryAttribute));e=void 0;try{e=u.parseJson(i.configurationElement.getAttribute(t.configDataAttribute))}catch(s){}i.autoSuggestUrl&&e&&e.queryParams&&(i.params=e.queryParams,i.familyNames=e.familyNames);i.subscribe({onMatchPatternChanged:i.autoSuggestCallback,onSuggestionSelected:i.suggestionSelectedCallback})}return i}return __extends(t,n),t.transformImageUrl=function(n){return n&&n.indexOf(t.badImageDomain)===0?n.replace(t.badImageDomain,t.goodImageDomain):n},t.prototype.processJsonData=function(n,t,i){var r,f,h,u,e,c,s,l,o;if(t&&t.ResultSets&&!(n<this.latestTimestampReceived)){for(this.latestTimestampReceived=n,r=[],f=0,h=t.ResultSets;f<h.length;f++)if(u=h[f],u.Source.toLowerCase().indexOf("-terms")!==-1)for(e=0,c=u.Suggests;e<c.length;e++)o=c[e],r.push(this.responseHandlers.Term(o));else if(u.Source.toLowerCase().indexOf("-products")!==-1)for(s=0,l=u.Suggests;s<l.length;s++)o=l[s],r.push(this.responseHandlers.Product(o));r&&i(r)}},t.prototype.getWedcsAttributes=function(n){var t=[];return n.length>0&&(t.push({name:"ms.title",value:n}),t.push({name:"ms.cmpnm",value:n}),t.push({name:"ms.cn",value:n})),t},t.autoSuggestSelector="#universal-header-search-auto-suggest-transparent",t.configElementSelector=".js-global-head .c-search",t.configDataAttribute="data-seautosuggest",t.apiUrlAttribute="data-seautosuggestapi",t.telemetryAttribute="data-tel",t.badImageDomain="//compass.",t.goodImageDomain="https://compass-ssl.",t}(i.AutoSuggest);t.UhfAutoSuggest=e});__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("uhfCookieAlert",["require","exports","htmlExtensions","utility","publisher"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(t){var u=n.call(this,t)||this,f;return(u.cookieAlertElement=t,u.closeSelector="button.c-action-trigger.glyph-cancel",u.cookieName="uhf_hide_cn",u.hiddenClass="x-hidden",u.msccCookieName="MSCC",u.getHeight=function(){return u.cookieAlertElement?i.getClientRect(u.cookieAlertElement).height:0},u.closeAndSetCookie=function(){r.setCookie(u.cookieName,"true","/",365);i.addClass(u.cookieAlertElement,u.hiddenClass);u.initiatePublish({height:u.getHeight()})},!t||!(r.getCookie(u.cookieName)!=="true")||r.getCookie(u.msccCookieName)!==null)?u:(i.removeClass(u.cookieAlertElement,u.hiddenClass),f=i.selectFirstElement(u.closeSelector,t),i.addEvent(f,i.eventTypes.click,u.closeAndSetCookie),u)}return __extends(t,n),t.prototype.publish=function(n,t){n.onBannerClosed(t)},t}(u.Publisher);t.UhfCookieAlert=f});define("uhfCookieAuditor",["require","exports","htmlExtensions","stringExtensions","uhfTelemetryHelper"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f;(function(n){function t(){try{var n=i.selectFirstElement(".c-universal-header").getAttribute("data-ckrate");return Math.random()<parseFloat(n)}catch(t){return!1}}function f(){if(t()&&window.btoa&&Array.prototype.map){var n=window.btoa(document.cookie.split(";").map(function(n){return r.trim(n.substr(0,n.indexOf("=")))}).sort().join(";")),i="https://uhf.microsoft.com/_log?c="+n+"&h="+window.location.hostname;u.fireBeacon(i)}}n.audit=f})(f=t.UhfCookieAuditor||(t.UhfCookieAuditor={}))});define("uhfLanguageToggle",["require","exports","htmlExtensions","stringExtensions","navigationMenus"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f="#uhf-l-nav",e=function(){function n(t){var r=this;this.handleLangugeToggleClick=function(){u.NavigationMenus.isOpen($(n.instance.languageToggleElement))||n.instance.createLanguageToggleUrls()};this.setLangLocaleInUrls=function(n,t,i){n.setAttribute("href",r.currentUrl.replace("/"+t+"/","/"+i+"/"))};this.createLangLocaleArray=function(n,t){var i=[];return n&&t.match(n)&&(i=t.match(n)[0].split("-")),i};this.languageToggleElement=t;i.removeEvent(this.languageToggleElement,i.eventTypes.click,this.handleLangugeToggleClick);i.addEvent(this.languageToggleElement,i.eventTypes.click,this.handleLangugeToggleClick)}return n.prototype.createLanguageToggleUrls=function(n){var o,t,f,e,u,h,c,s,l;if((n===void 0&&(n=window.location.href),this.currentUrl=n.toLowerCase(),o=i.selectFirstElement("ul",this.languageToggleElement),t=i.selectElements("a",this.languageToggleElement),o&&t)&&(f=o.getAttribute("data-localsettings"),f))for(e=this.createLangLocaleArray(f,this.currentUrl),u=0,h=t.length;u<h;u++)c=r.trim(t[u].getAttribute("href")),s=t[u].getAttribute("lang"),c!=null&&!!s&&e&&e.length>1&&(l=(s+"-"+e[1]).toLowerCase(),this.setLangLocaleInUrls(t[u],f,l))},n.instance=null,n.init=function(){var t=i.selectFirstElement(f);t&&n.instance===null&&(n.instance=new n(t))},n}();t.UhfLanguageToggle=e});define("uhfMeControl",["require","exports","uhfMeControlLoader"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){i.Loader.init()}return n.selector=".js-global-head",n}();t.UhfMeControl=r});define("uhfMeControlLoader",["require","exports","jquery","navigationMenus","universalHeader","utility","htmlExtensions"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o;(function(n){function w(){var n=t;if(n)n.events.onEventLog("loadMeControl",{type:"qos",success:"0",errorCode:"LoadFailed: Reverted to fallback",duration:c})}function l(n){if(n&&(n.extensibleLinks&&t.extensibleLinks&&(n.extensibleLinks.push.apply(n.extensibleLinks,t.extensibleLinks),t.extensibleLinks=null),t=i.extend(!0,{},t,n)),t.enabled)if(window.MSA&&window.MSA.MeControl)window.MSA.MeControl.Loader.load(t);else{var r=setTimeout(function(){w()},c);window.onMeControlReadyToLoad=function(){t.events.onEventLog("loadMeControl",{type:"qos",success:"1"});clearTimeout(r);window.onMeControlReadyToLoad=null;window.MSA.MeControl.Loader.load(t)}}}function a(n){var t=document.createElement("a");return t.href=n,t.href}function b(n){n!=null&&(n.rpData.aadInfo&&n.rpData.aadInfo.siteUrl&&(n.rpData.aadInfo.siteUrl=a(n.rpData.aadInfo.siteUrl)),n.rpData.msaInfo&&n.rpData.msaInfo.meUrl&&(n.rpData.msaInfo.meUrl=n.rpData.msaInfo.meUrl+"&wreply="+encodeURIComponent(window.location.protocol+"//"+window.location.host)),n.events={onEventLog:function(n,t){if(s&&s.onEventLog)s.onEventLog("MeControl_"+n,t)}},t=i.extend(!0,{},n,t||{}))}function v(n){n!=null&&n.events!=null&&(s=n.events);!n.currentGlobalItemId||r.NavigationMenus.setCurrentMenuItemId(n.currentGlobalItemId);!n.currentMenuItemId||r.NavigationMenus.setCurrentMenuItemId(n.currentMenuItemId);n&&n.theme&&u.UniversalHeader.setTheme(n.theme)}function k(n){var t,i,r;(window.msCommonShell&&n.as?window.msCommonShell.as=n.as:window.msCommonShell&&n.searchSuggestCallback&&(window.msCommonShell.as={legacyCallback:n.searchSuggestCallback}),window.msCommonShell&&n.events&&(window.msCommonShell.events=n.events),t=document.getElementById("meControl"),t)&&(i=t.getAttribute("data-signinsettings"),i!==null&&(r=JSON.parse(i),r&&b(r),n!=null?(v(n),l(n.meControlOptions)):l(null),h()&&(o=!0,window.MSA&&window.MSA.MeControl&&window.MSA.MeControl.API.setMobileState(1))))}function h(){return f.Viewports.getViewport()<5}function y(){p()}function p(){return window.MSA&&window.MSA.MeControl&&(h()&&!o?(o=!0,window.MSA.MeControl.API.setMobileState(1)):!h()&&o&&(o=!1,window.MSA.MeControl.API.setMobileState(0))),o}function d(){var r={AuthState:{SignedIn:1,SignedInIdp:2,NotSignedIn:3},SupportedAuthIdp:{MSA:"msa",AAD:"aad"},meControlOptions:function(){return t},load:function(n){k(n)},update:function(n){v(n)}},n;window.msCommonShell=i.extend(!0,window.msCommonShell,r);window.msCommonShell.swapCategoryHeader||(window.msCommonShell.swapCategoryHeader=function(n){window.msCommonShell._catHTML=n});window.onShellReadyToLoad&&window.onShellReadyToLoad();n=document.getElementById("meControl");n&&e.addEvent(n,e.eventTypes.click,function(){var n=window.mscc;n&&!n.hasConsent()&&n.setConsent()})}var t=null,c=5e3,s=null,o=!1;n.absolutifyUrl=a;n.isMobile=h;n.onWindowResize=y;n.setMeControlMobileState=p;n.init=d;e.addThrottledEvent(window,e.eventTypes.resize,y,66)})(o=t.Loader||(t.Loader={}))});require(["jqReady!"],function(){require(["uhfMeControl","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{c:n.UhfMeControl,eventToBind:"DOMContentLoaded"}])})});require(["jqReady!"],function(){require(["uhfMeControl","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{c:n.UhfMeControl,eventToBind:"DOMContentLoaded"}])})});define("uhfPaddles",["require","exports","htmlExtensions"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){var t=this;(this.disabledPrimaryNavItems=[],this.disabledSecondaryNavItems=[],this.slidePrimary=function(){t.setCurrentSlidePosition(t.getNextValidPosition(!0))},this.slideSecondary=function(){t.setCurrentSlidePosition(t.getNextValidPosition(!1))},this.handleSlideIfDisabled=function(n){for(var r=0;r<t.categoryNav.children.length;++r)t.disabledPrimaryNavItems[r]===n.currentTarget?(t.slidePrimary(),i.preventDefault(n)):t.disabledSecondaryNavItems[r]===n.currentTarget&&(t.slideSecondary(),i.preventDefault(n))},this.handleFromKeyboardSlideIfDisabled=function(n){for(var i=0;i<t.categoryNav.children.length;++i)(t.disabledPrimaryNavItems[i]===n.currentTarget||t.disabledSecondaryNavItems[i]===n.currentTarget)&&(t.navItemPositions[i]>t.getMaxSlideAmount()?t.setCurrentSlidePosition(t.getMaxSlideAmount()):t.setCurrentSlidePosition(t.navItemPositions[i]))},this.categoryNav=document.getElementById(n.categoryNavElementId),this.categoryNav)&&(this.isLtr=this.categoryNav.currentStyle?this.categoryNav.currentStyle.direction==="ltr":getComputedStyle(this.categoryNav,null).direction==="ltr",this.slideMarginProperty=this.isLtr?"marginLeft":"marginRight",this.primaryPaddle=i.selectFirstElement(".js-cat-head .c-action-trigger.glyph-chevron-left"),this.secondaryPaddle=i.selectFirstElement(".js-cat-head .c-action-trigger.glyph-chevron-right"),this.firstMenuItem=this.categoryNav.children[0])}return n.prototype.initializeNavItemsWidths=function(){var t=this.categoryNav.children,n;for(this.navItemsWidth=0,this.navItemPositions=[],n=0;n<t.length;++n)this.navItemPositions.push(this.navItemsWidth),this.navItemsWidth+=t[n].offsetWidth},n.prototype.setCurrentSlidePosition=function(n){n<0&&(n=0);this.firstMenuItem.style[this.slideMarginProperty]=-n+"px";this.updatePaddleDisplayStates();this.disablePartiallyHiddenNavItems();this.categoryNav.scrollLeft=this.isLtr?0:this.categoryNav.scrollWidth},n.prototype.getCurrentSlidePosition=function(){var n=this.firstMenuItem.style[this.slideMarginProperty];return n===""?0:-parseInt(n,10)},n.prototype.show=function(n){n.style.display="block"},n.prototype.hide=function(n){n.style.display="none"},n.prototype.isShowing=function(n){return n.style.display!=="none"},n.prototype.disablePartiallyHiddenNavItems=function(){for(var r,t=this.categoryNav.children,f=this.categoryNav.offsetWidth,u=this.getCurrentSlidePosition(),n=0;n<t.length;++n)r=t[n].querySelector("button")||t[n],this.navItemPositions[n]<u?(i.addClass(r,"f-hidden"),this.disabledPrimaryNavItems[n]=t[n]):this.navItemPositions[n]+t[n].offsetWidth>u+f?(i.addClass(r,"f-hidden"),this.disabledSecondaryNavItems[n]=t[n]):(i.removeClass(r,"f-hidden"),this.disabledPrimaryNavItems[n]=null,this.disabledSecondaryNavItems[n]=null)},n.prototype.updatePaddleDisplayStates=function(){var t=this.categoryNav.offsetWidth,i=t+this.primaryPaddle.offsetWidth+this.secondaryPaddle.offsetWidth,n;i>=this.navItemsWidth?(this.hide(this.primaryPaddle),this.hide(this.secondaryPaddle)):(n=this.getCurrentSlidePosition(),n===0?(this.hide(this.primaryPaddle),this.show(this.secondaryPaddle)):n>=this.getMaxSlideAmount()?(this.show(this.primaryPaddle),this.hide(this.secondaryPaddle)):(this.show(this.primaryPaddle),this.show(this.secondaryPaddle)))},n.prototype.getMaxSlideAmount=function(){var n=this.isShowing(this.primaryPaddle)&&this.isShowing(this.secondaryPaddle)?this.primaryPaddle.offsetWidth:0,t=this.categoryNav.offsetWidth+n;return this.navItemsWidth-t},n.prototype.handleWidthChange=function(){var n=this.getCurrentSlidePosition(),t=this.categoryNav.offsetWidth,i=t+this.primaryPaddle.offsetWidth+this.secondaryPaddle.offsetWidth;i>this.navItemsWidth?this.setCurrentSlidePosition(0):this.navItemsWidth<n+this.categoryNav.offsetWidth&&this.setCurrentSlidePosition(Math.abs(this.categoryNav.offsetWidth-this.navItemsWidth));this.updatePaddleDisplayStates();this.disablePartiallyHiddenNavItems()},n.prototype.getNextValidPosition=function(n){var i=this.getCurrentSlidePosition(),r=this.categoryNav.offsetWidth,t;if(n){for(t=0;t<this.navItemPositions.length;++t)if(this.navItemPositions[t]>i)return Math.max(0,this.navItemPositions[t]-r);return 0}for(t=0;t<this.navItemPositions.length-1;++t)if(this.navItemPositions[t+1]>i+r)return Math.min(this.getMaxSlideAmount(),this.navItemPositions[t]);return this.getMaxSlideAmount()},n.prototype.handleMoveIntoDesktopViewport=function(){this.primaryPaddle.tabIndex=-1;this.secondaryPaddle.tabIndex=-1;this.initializeNavItemsWidths();this.updatePaddleDisplayStates();this.disablePartiallyHiddenNavItems();this.firstMenuItem.style.transition="margin .667s cubic-bezier(.16, 1, .29, .99)";i.addEvent(this.primaryPaddle,i.eventTypes.click,this.slidePrimary);i.addEvent(this.secondaryPaddle,i.eventTypes.click,this.slideSecondary);var n=i.nodeListToArray(this.categoryNav.children);i.addEvent(n,i.eventTypes.click,this.handleSlideIfDisabled);i.addEvent(n,i.eventTypes.focusin,this.handleFromKeyboardSlideIfDisabled)},n.prototype.handleMoveIntoMobileViewport=function(){var t,n,r;for(this.hide(this.primaryPaddle),this.hide(this.secondaryPaddle),this.primaryPaddle.tabIndex=0,this.secondaryPaddle.tabIndex=0,this.firstMenuItem.style.transition="",i.removeEvent(this.primaryPaddle,i.eventTypes.click,this.slidePrimary),i.removeEvent(this.secondaryPaddle,i.eventTypes.click,this.slideSecondary),t=i.nodeListToArray(this.categoryNav.children),i.removeEvent(t,i.eventTypes.click,this.handleSlideIfDisabled),i.removeEvent(t,i.eventTypes.focusin,this.handleFromKeyboardSlideIfDisabled),n=0;n<t.length;++n)r=t[n].querySelector("button")||t[n],i.removeClass(r,"f-hidden"),this.disabledPrimaryNavItems[n]=null,this.disabledSecondaryNavItems[n]=null;this.firstMenuItem.style[this.slideMarginProperty]=null},n.categoryNavElementId="uhf-c-nav",n}();t.UhfPaddles=r});__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("uhfPromoBanner",["require","exports","htmlExtensions","utility","publisher"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(u){var f=n.call(this,u)||this;return(f.promoElement=u,f.closeSelector="#close-epb",f.cookieName="uhf_hide_epb",f.cookieNameV3="msstore_hide_epb",f.hiddenClass="x-hidden",f.rollupAnimationClass="epb-rollup",f.telemetryQsp="epb=1",f.showPromoBanner=function(){var n=i.selectFirstElement("#epbTryNow"),u=n.getAttribute("data-telem-qsp"),t;!n||n.setAttribute("href","Microsoft-edge:"+r.addQSP(window.location.toString(),u||f.telemetryQsp));t=i.selectFirstElement(f.closeSelector,f.promoElement);i.addEvent(t,i.eventTypes.click,f.closeAndSetCookie);i.removeClass(f.promoElement,f.hiddenClass)},f.getHeight=function(){return f.promoElement?i.getClientRect(f.promoElement).height:0},f.closeAndSetCookie=function(){f.setCookieOnRootDomain(f.cookieName,"true","/",7);i.addClass(f.promoElement,f.rollupAnimationClass);i.addEvent(f.promoElement,i.eventTypes.animationend,f.rollUpBanner);f.trackEpbDismissal()},f.rollUpBanner=function(){i.removeClass(f.promoElement,f.rollupAnimationClass);i.addClass(f.promoElement,f.hiddenClass);f.initiatePublish({height:f.getHeight()})},!u||!(r.getCookie(f.cookieName)!=="true")||!(r.getCookie(f.cookieNameV3)!=="true"))?f:(t.resolveTreatment()&&f.showPromoBanner(),f)}return __extends(t,n),t.resolveTreatment=function(n){n===void 0&&(n="noEdgeWin10");switch(n){case"noEdgeWin10":return t.isNotEdgeWin10();case"gteRs1OnChrome":return t.isGteRs1OnChrome();default:return!1}},t.prototype.setCookieOnRootDomain=function(n,t,i,u){var e=document.location.hostname.split("."),f=e.pop();if(f==="localhost")r.setCookie(n,t,i,u);else while(r.getCookie(n)!==t&&e.length!==0)f=e.pop()+"."+f,r.setCookie(n,t,i,u,f)},t.prototype.publish=function(n,t){n.onBannerClosed(t)},t.prototype.trackEpbDismissal=function(){typeof MscomCustomEvent=="function"&&window.MscomCustomEvent("wcs.cn","EdgePromoBannerDismissed","wcs.cot",4)},t.isGteRs1OnChrome=function(){var t=document.createElement("canvas").getContext("2d"),i,n;return t.font="64px Segoe UI Emoji",i=t.measureText("").width,n=navigator.userAgent.toLowerCase(),!window.chrome||n.indexOf("edge")>=0?!1:n.indexOf("windows nt")===-1?!1:i<=90?!0:!1},t.isNotEdgeWin10=function(){var n=navigator.userAgent.toLowerCase();return!(n.indexOf("edge")>=0)&&n.indexOf("windows nt 10")>=0},t}(u.Publisher);t.UhfPromoBanner=f});define("uhfSearchModule",["require","exports","htmlExtensions","stringExtensions","utility","uhfUssCategoryService"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n,t,e){var o=this,s,h,c;if(this.searchForm=n,this.showCallback=t,this.autoSuggest=e,this.width="",this.searchOpenedClass="f-search-opened",this.focusedClass="js-focused",this.ussCategoryExpId="StoreSearch",this.ussCategoryCtrlId="AllSearch",this.log=function(){var n=window.msCommonShell&&window.msCommonShell.events&&window.msCommonShell.events.onSearch;n&&n(o.searchForm)},this.addQsp=function(n,t){if(n&&t){var i=document.createElement("input");i.setAttribute("type","hidden");i.setAttribute("name",n);i.setAttribute("value",t);i.setAttribute("data-bi-dnt","");o.searchForm.appendChild(i)}},this.isHidden=function(){return u.getWindowWidth()>=1084?!1:!i.hasClass(o.searchParentElement,o.searchOpenedClass)},this.showAndFocus=function(){o.showCallback&&o.showCallback();i.addClass(o.searchParentElement,o.searchOpenedClass);i.css(o.searchBox,"width",o.width);o.searchCloseButton.setAttribute("aria-expanded","true");o.searchBox.focus()},this.hide=function(){o.autoSuggest&&o.autoSuggest.hide();i.css(o.searchBox,"width","");i.removeClass(o.searchParentElement,o.searchOpenedClass);o.searchCloseButton.setAttribute("aria-expanded","false")},this.handleSearchButtonClick=function(n){if(!o.isHidden()){o.onSearch(n);return}i.preventDefault(n);o.showAndFocus()},this.toggleFocusAndClickListeners=function(n,t,r){var u=r?i.removeEvent:i.addEvent;u(n,i.eventTypes.focus,t,!0);u(n,i.eventTypes.click,t,!0)},this.focusInHandler=function(){i.addClass(o.searchForm,o.focusedClass);o.toggleFocusAndClickListeners(o.searchForm,o.focusInHandler,!0);o.toggleFocusAndClickListeners(document.body,o.focusOutHandler)},this.focusOutHandler=function(n){o.parentHasClass(n.target,o.focusedClass)||(i.removeClass(o.searchForm,o.focusedClass),o.toggleFocusAndClickListeners(document.body,o.focusOutHandler,!0),o.toggleFocusAndClickListeners(o.searchForm,o.focusInHandler),o.autoSuggest&&o.autoSuggest.hide(),o.hide())},this.parentHasClass=function(n,t){if(n){if(i.hasClass(n,t))return!0}else return!1;return o.parentHasClass(n.parentNode,t)},n){this.searchBox=i.selectFirstElement("input",this.searchForm);try{s=window._pageBITags.pageTags;h=s.expId.toLowerCase().split(",");this.ussCategoryExpEnabled=h.indexOf("ex:"+this.ussCategoryExpId.toLowerCase())>-1;this.ussCategoryCtrlEnabled=h.indexOf("ex:"+this.ussCategoryCtrlId.toLowerCase())>-1;this.market=s.mkt}catch(l){this.ussCategoryExpEnabled=!1}this.ussCategoryExpEnabled&&this.market?(this.categoryService=new f.UhfUssCategoryService(this.market),i.addDebouncedEvent(this.searchBox,i.eventTypes.keyup,function(){o.categoryService.queryService(r.trim(o.searchBox.value))},100),this.addQsp("flt",this.ussCategoryExpId)):this.ussCategoryCtrlEnabled&&this.addQsp("flt",this.ussCategoryCtrlId);this.searchParentElement=i.selectFirstElement(".js-global-head");c=i.selectFirstElement("button",this.searchForm);i.addEvent(c,i.eventTypes.click,this.handleSearchButtonClick);this.searchCloseButton=i.selectFirstElement(".c-action-trigger.glyph-arrow-htmllegacy");i.addEvent(this.searchCloseButton,i.eventTypes.click,this.hide);i.addEvent(this.searchBox,i.eventTypes.input,this.onSearchBoxChange);this.toggleFocusAndClickListeners(this.searchForm,this.focusInHandler)}}return n.prototype.onSearchBoxChange=function(){var n=window.mscc;n&&!n.hasConsent()&&n.setConsent()},n.prototype.onSearch=function(n){var t=this,u=r.trim(this.searchBox.value),i;return u.length?this.ussCategoryExpEnabled?(n.preventDefault(),i=!1,this.categoryService.getCategory(u,function(n){!i&&n&&(t.searchForm.setAttribute("action","/"+t.market+"/store/search/"+n),t.log(),t.searchForm.submit(),i=!0)}),setTimeout(function(){i||(t.log(),t.searchForm.submit(),i=!0)},100),!1):(this.log(),!0):(n.preventDefault(),this.searchBox.focus(),!1)},n.prototype.setSearchBoxWidth=function(n){this.width=n;this.isHidden()||i.css(this.searchBox,"width",n)},n.prototype.getSearchFormElement=function(){return this.searchForm},n}();t.UhfSearchModule=e});define("uhfTelemetryHelper",["require","exports"],function(n,t){function r(n){var t=!1;if(n)switch(n.trackType){case"autosuggest":t=i(n)}return t}function i(n){if(n.telemetryType==="jsll"){var t=n.suggestionType,i=t,r={term:"microsoftterm",product:"microsoftproduct"}[i],u={behavior:60,actionType:n.event,contentTags:{cN:r,srchq:n.title,srchtype:"auto suggest",asdisplayed:!0}};if(window.awa&&window.awa.ct&&typeof window.awa.ct.captureContentPageAction=="function")return window.awa.ct.captureContentPageAction(u),!0}else if(n.telemetryType==="wedcs"&&typeof MscomCustomEvent=="function")return window.MscomCustomEvent("wcs.cn",n.title,"wcs.cot",4),!0;return!1}function u(n){if(n){var t=new Image;t.src=n}}Object.defineProperty(t,"__esModule",{value:!0});t.trackEvent=r;t.trackAutoSuggestEvents=i;t.fireBeacon=u});define("uhfUssCategoryService",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n){this.market=n;this.responseCache={};this.ajaxCall=function(n,t){var i=new XMLHttpRequest;i.open("GET",n);i.onreadystatechange=function(){this.readyState===4&&this.status>=200&&this.status<400&&t(this.responseText)};i.send();i=null}}return n.prototype.getServiceUrl=function(n){return"https://ussearchprod.trafficmanager.net/services/api/v1.0/store/categories"+("?clientid=7f27b536-cf6b-4c65-8638-a0f8cbdfca65&scope=games,apps,devices,software&query="+n+"&markets="+this.market)},n.prototype.getCachedCategory=function(n){return this.responseCache[this.getCacheKey(n)]},n.prototype.getCategory=function(n,t){var i=this.getCachedCategory(n);i?t(i):this.queryService(n,t)},n.prototype.queryService=function(n,t){var i=this;if(!n||this.getCachedCategory(n)){t&&t(null);return}this.ajaxCall(this.getServiceUrl(n),function(n){try{var r=JSON.parse(n),u=r.categories&&r.categories[0],f=r.query;!u||!f.trim()?t&&t(null):(i.responseCache[i.getCacheKey(f)]=u,t&&t(u))}catch(e){t&&t(null)}})},n.prototype.getCacheKey=function(n){return encodeURIComponent(n.trim().toLowerCase())},n}();t.UhfUssCategoryService=i});define("universalHeader",["require","exports","uhfPaddles","shoppingCart","uhfSearchModule","navigationMenus","htmlExtensions","utility","uhfAutoSuggest","uhfCookieAlert","uhfPromoBanner","uhfLanguageToggle","removeFocus","uhfCookieAuditor"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function n(){var t=this,p,b,y,g,nt;this.hiddenClass="x-hidden";this.isMobile=function(){return o.Viewports.getViewport()<3};this.onWindowResize=function(){t.checkForViewportChange();!t.wasMobile&&t.hasCategory&&t.paddles.handleWidthChange();t.searchModule&&t.setSearchWidth();t.updateBannerBufferHeight()};this.setSearchWidth=function(){var n="";if(o.Viewports.getViewport()===3){var i=e.getClientRect(t.globalLogo),r=e.getClientRect(t.searchModule.getSearchFormElement()),u=i.right<r.right?"right":"left";n=Math.abs(r[u]-i[u])-20+"px"}t.searchModule.setSearchBoxWidth(n)};this.updateBannerBufferHeight=function(){if(e.css(t.headerElement,"position")==="absolute"){var u=parseInt(e.css(t.headerElement,"top"),10)||0,n=t.cookieAlert!=null?t.cookieAlert.getHeight():0,i=t.edgePromoBanner!=null?t.edgePromoBanner.getHeight():0,r=n>i?n:i;r!==u&&t.setHeaderTop(r+"px")}};this.delegateBannerNotification=function(n){t.setHeaderTop(n.height+"px")};this.swapCategoryHeader=function(n){if(n){var u=".js-cat-head",r=e.selectFirstElement(u),o=document.createElement("DIV");o.innerHTML=n;r.parentNode.replaceChild(o.querySelector(u),r);t.hasCategory=!!r.querySelector("#"+i.UhfPaddles.categoryNavElementId);f.NavigationMenus.init();t.paddles=new i.UhfPaddles;t.isMobile()?(f.NavigationMenus.handleMoveIntoMobileViewport(),t.hasCategory&&t.paddles.handleMoveIntoMobileViewport()):(f.NavigationMenus.handleMoveIntoDesktopViewport(),t.hasCategory&&t.paddles.handleMoveIntoDesktopViewport())}};this.headerElement=e.selectFirstElement(n.selector);this.globalLogo=e.selectFirstElement(".js-global-head .c-logo");this.hasCategory=!!e.selectFirstElement("#"+i.UhfPaddles.categoryNavElementId);f.NavigationMenus.init();this.hasCategory&&(this.paddles=new i.UhfPaddles);this.isMobile()&&!this.wasMobile?(this.wasMobile=!0,f.NavigationMenus.handleMoveIntoMobileViewport(),this.hasCategory&&this.paddles.handleMoveIntoMobileViewport()):(this.wasMobile=!1,f.NavigationMenus.handleMoveIntoDesktopViewport(),this.hasCategory&&this.paddles.handleMoveIntoDesktopViewport());p=e.selectFirstElement(".js-global-head .c-search");!p||(this.uhfAutoSuggest=new s.UhfAutoSuggest,this.searchModule=new u.UhfSearchModule(p,this.setSearchWidth,this.uhfAutoSuggest));b=!!e.selectFirstElement("#"+r.ShoppingCart.shoppingCartFrameId);b&&new r.ShoppingCart;e.addThrottledEvent(window,e.eventTypes.resize,this.onWindowResize,66);y=e.selectFirstElement("#uhfCookieAlert");y&&(this.cookieAlert=new h.UhfCookieAlert(y),this.cookieAlert.subscribe({onBannerClosed:this.delegateBannerNotification}),this.updateBannerBufferHeight());var k=window.mscc,w=e.selectFirstElement("#epb"),d=e.hasClass(y,this.hiddenClass)||k&&!k.isVisible();(!y||d)&&(this.edgePromoBanner=new c.UhfPromoBanner(w),this.edgePromoBanner.subscribe({onBannerClosed:this.delegateBannerNotification}),this.updateBannerBufferHeight());(!y||d)&&(!w||e.hasClass(w,this.hiddenClass))&&(g=e.selectFirstElement("#swp"),e.removeClass(g,this.hiddenClass));l.UhfLanguageToggle.init();a.setupRemoveFocus();v.UhfCookieAuditor.audit();window.msCommonShell=window.msCommonShell||{};nt=window.msCommonShell._catHTML;window.msCommonShell._catHTML=null;window.msCommonShell.swapCategoryHeader=this.swapCategoryHeader.bind(this);this.swapCategoryHeader(nt)}return n.prototype.setHeaderTop=function(n){e.css(this.headerElement,"top",n)},n.prototype.checkForViewportChange=function(){var n=this.isMobile();n&&!this.wasMobile?(f.NavigationMenus.handleMoveIntoMobileViewport(),this.searchModule&&this.searchModule.hide(),this.hasCategory&&this.paddles.handleMoveIntoMobileViewport(),this.wasMobile=!0):!n&&this.wasMobile&&(f.NavigationMenus.handleMoveIntoDesktopViewport(),this.searchModule&&this.searchModule.hide(),this.hasCategory&&this.paddles.handleMoveIntoDesktopViewport(),this.wasMobile=!1)},n.setTheme=function(t){var s=e.selectFirstElement("header.c-universal-header.f-transparent"),u,f,o;if(s){var h=e.selectElements(".js-global-head, .js-cat-head",s),i=("theme-"+t).toLocaleLowerCase(),c=/theme-(dark|light)/,r=c.test(i)?h[0].className.match(c)[0]:!1;if(!!r&&r!==i)for(n.swapLogoImage(i,r),u=0,f=h;u<f.length;u++)o=f[u],e.removeClass(o,r),e.addClass(o,i)}},n.swapLogoImage=function(t,i){var r=e.selectFirstElement(n.logoImageSelector);if(r){var u=function(n){return n==="theme-light"?"gray":"white"},f=u(i),o=u(t);r.setAttribute("src",r.src.replace(f,o))}},n.selector=".c-universal-header",n.logoImageSelector=".c-universal-header > div:first-child .c-logo .c-image",n}();t.UniversalHeader=y});require(["jqReady!"],function(){require(["universalHeader","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{c:n.UniversalHeader}])})});require(["jqReady!"],function(){require(["universalHeader","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{c:n.UniversalHeader}])})})